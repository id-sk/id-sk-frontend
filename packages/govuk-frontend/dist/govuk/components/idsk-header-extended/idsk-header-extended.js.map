{"version":3,"file":"idsk-header-extended.js","sources":["../../../../src/govuk/common/index.mjs","../../../../src/govuk/common.mjs","../../../../src/govuk/components/idsk-header-extended/idsk-header-extended.mjs"],"sourcesContent":["/**\n * Common helpers which do not require polyfill.\n *\n * IMPORTANT: If a helper require a polyfill, please isolate it in its own module\n * so that the polyfill can be properly tree-shaken and does not burden\n * the components that do not need that helper\n *\n * @module common/index\n */\n\n/**\n * Used to generate a unique string, allows multiple instances of the component\n * without them conflicting with each other.\n * https://stackoverflow.com/a/8809472\n *\n * @deprecated Will be made private in v5.0\n * @returns {string} Unique ID\n */\nexport function generateUniqueID () {\n  var d = new Date().getTime()\n  if (typeof window.performance !== 'undefined' && typeof window.performance.now === 'function') {\n    d += window.performance.now() // use high-precision timer if available\n  }\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (d + Math.random() * 16) % 16 | 0\n    d = Math.floor(d / 16)\n    return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16)\n  })\n}\n\n/**\n * Config flattening function\n *\n * Takes any number of objects, flattens them into namespaced key-value pairs,\n * (e.g. \\{'i18n.showSection': 'Show section'\\}) and combines them together, with\n * greatest priority on the LAST item passed in.\n *\n * @deprecated Will be made private in v5.0\n * @returns {{ [key: string]: unknown }} A flattened object of key-value pairs.\n */\nexport function mergeConfigs (/* configObject1, configObject2, ...configObjects */) {\n  /**\n   * Function to take nested objects and flatten them to a dot-separated keyed\n   * object. Doing this means we don't need to do any deep/recursive merging of\n   * each of our objects, nor transform our dataset from a flat list into a\n   * nested object.\n   *\n   * @param {{ [key: string]: unknown }} configObject - Deeply nested object\n   * @returns {{ [key: string]: unknown }} Flattened object with dot-separated keys\n   */\n  var flattenObject = function (configObject) {\n    // Prepare an empty return object\n    /** @type {{ [key: string]: unknown }} */\n    var flattenedObject = {}\n\n    /**\n     * Our flattening function, this is called recursively for each level of\n     * depth in the object. At each level we prepend the previous level names to\n     * the key using `prefix`.\n     *\n     * @param {Partial<{ [key: string]: unknown }>} obj - Object to flatten\n     * @param {string} [prefix] - Optional dot-separated prefix\n     */\n    var flattenLoop = function (obj, prefix) {\n      // Loop through keys...\n      for (var key in obj) {\n        // Check to see if this is a prototypical key/value,\n        // if it is, skip it.\n        if (!Object.prototype.hasOwnProperty.call(obj, key)) {\n          continue\n        }\n        var value = obj[key]\n        var prefixedKey = prefix ? prefix + '.' + key : key\n        if (typeof value === 'object') {\n          // If the value is a nested object, recurse over that too\n          flattenLoop(value, prefixedKey)\n        } else {\n          // Otherwise, add this value to our return object\n          flattenedObject[prefixedKey] = value\n        }\n      }\n    }\n\n    // Kick off the recursive loop\n    flattenLoop(configObject)\n    return flattenedObject\n  }\n\n  // Start with an empty object as our base\n  /** @type {{ [key: string]: unknown }} */\n  var formattedConfigObject = {}\n\n  // Loop through each of the remaining passed objects and push their keys\n  // one-by-one into configObject. Any duplicate keys will override the existing\n  // key with the new value.\n  for (var i = 0; i < arguments.length; i++) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-argument -- Ignore mismatch between arguments types\n    var obj = flattenObject(arguments[i])\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        formattedConfigObject[key] = obj[key]\n      }\n    }\n  }\n\n  return formattedConfigObject\n}\n\n/**\n * Extracts keys starting with a particular namespace from a flattened config\n * object, removing the namespace in the process.\n *\n * @deprecated Will be made private in v5.0\n * @param {{ [key: string]: unknown }} configObject - The object to extract key-value pairs from.\n * @param {string} namespace - The namespace to filter keys with.\n * @returns {{ [key: string]: unknown }} Flattened object with dot-separated key namespace removed\n * @throws {Error} Config object required\n * @throws {Error} Namespace string required\n */\nexport function extractConfigByNamespace (configObject, namespace) {\n  // Check we have what we need\n  if (!configObject || typeof configObject !== 'object') {\n    throw new Error('Provide a `configObject` of type \"object\".')\n  }\n\n  if (!namespace || typeof namespace !== 'string') {\n    throw new Error('Provide a `namespace` of type \"string\" to filter the `configObject` by.')\n  }\n\n  /** @type {{ [key: string]: unknown }} */\n  var newObject = {}\n\n  for (var key in configObject) {\n    // Split the key into parts, using . as our namespace separator\n    var keyParts = key.split('.')\n    // Check if the first namespace matches the configured namespace\n    if (Object.prototype.hasOwnProperty.call(configObject, key) && keyParts[0] === namespace) {\n      // Remove the first item (the namespace) from the parts array,\n      // but only if there is more than one part (we don't want blank keys!)\n      if (keyParts.length > 1) {\n        keyParts.shift()\n      }\n      // Join the remaining parts back together\n      var newKey = keyParts.join('.')\n      // Add them to our new object\n      newObject[newKey] = configObject[key]\n    }\n  }\n  return newObject\n}\n\n/**\n * Toggle class\n *\n * @param {object} node - element\n * @param {string} className - to toggle\n */\nexport function toggleClass (node, className) {\n  if (node === null) {\n    return\n  }\n\n  if (node.className.indexOf(className) > 0) {\n    node.className = node.className.replace(' ' + className, '')\n  } else {\n    node.className += ' ' + className\n  }\n}\n","// Implementation of common function is gathered in the `common` folder\n// as some are split in their own modules to limit impacts of the polyfills\n// they require.\n// This module exports the non polyfilled methods as they used to be\n// to avoid breaking changes\nexport * from './common/index.mjs'\n","/* eslint-disable */\n\nimport { toggleClass } from '../../common.mjs'\n\n/**\n * Header for extended websites\n */\nfunction IdskHeaderExtended ($module) {\n  this.$module = $module\n  this.$lastMenuElement = ''\n  this.$firstMenuElement = ''\n}\n\n/**\n * HeaderExtended init function\n */\nIdskHeaderExtended.prototype.init = function () {\n  var $module = this.$module\n  // check for module\n  if (!$module) {\n    return\n  }\n\n  // check for search component\n  var $searchComponents = $module.querySelectorAll(\n    '.idsk-header-extended__search'\n  )\n  if ($searchComponents) {\n    $searchComponents.forEach(\n      function ($searchComponent) {\n        $searchComponent.addEventListener(\n          'change',\n          this.handleSearchChange.bind(this)\n        )\n        // trigger change event\n        $searchComponent.dispatchEvent(new Event('change'))\n      }.bind(this)\n    )\n  }\n\n  // check for language switcher\n  var $toggleLanguageSwitchers = $module.querySelectorAll(\n    '.idsk-header-extended__language-button'\n  )\n  if ($toggleLanguageSwitchers) {\n    // Handle $toggleLanguageSwitcher click events\n    $toggleLanguageSwitchers.forEach(\n      function ($toggleLanguageSwitcher) {\n        $toggleLanguageSwitcher.addEventListener(\n          'click',\n          this.handleLanguageSwitcherClick.bind(this)\n        )\n        $toggleLanguageSwitcher.addEventListener(\n          'focus',\n          this.handleLanguageSwitcherClick.bind(this)\n        )\n      }.bind(this)\n    )\n\n    // close language list if i left the last item from langauge list e.g. if user use tab key for navigations\n    var $lastLanguageItems = $module.querySelectorAll(\n      '.idsk-header-extended__language-list-item:last-child .idsk-header-extended__language-list-link'\n    )\n    $lastLanguageItems.forEach(\n      function ($lastLanguageItem) {\n        $lastLanguageItem.addEventListener(\n          'blur',\n          this.checkBlurLanguageSwitcherClick.bind(this)\n        )\n      }.bind(this)\n    )\n  }\n\n  // check for menu items\n  var $menuItems = $module.querySelectorAll('.idsk-header-extended__link')\n  if ($menuItems) {\n    // Handle $menuItem click events\n    $menuItems.forEach(\n      function ($menuItem) {\n        $menuItem.addEventListener('click', this.handleSubmenuClick.bind(this))\n        $menuItem.addEventListener('focus', this.handleSubmenuClick.bind(this))\n      }.bind(this)\n    )\n  }\n\n  // check for menu button and close menu button\n  var $hamburgerMenuButton = $module.querySelector(\n    '.idsk-js-header-extended-side-menu'\n  )\n  var $closeMenuButton = $module.querySelector(\n    '.idsk-header-extended__mobile-close'\n  )\n  if ($hamburgerMenuButton && $closeMenuButton) {\n    this.initMobileMenuTabbing()\n    $hamburgerMenuButton.addEventListener(\n      'click',\n      this.showMobileMenu.bind(this)\n    )\n    $closeMenuButton.addEventListener('click', this.hideMobileMenu.bind(this))\n  }\n\n  window.addEventListener('scroll', this.scrollFunction.bind(this))\n\n  $module.boundCheckBlurMenuItemClick = this.checkBlurMenuItemClick.bind(this)\n  $module.boundCheckBlurLanguageSwitcherClick =\n    this.checkBlurLanguageSwitcherClick.bind(this)\n\n  // check for cookies\n\n  if (!window.localStorage.getItem('acceptedCookieBanner')) {\n    $module.classList.add('idsk-header-extended--cookie')\n    var $cookieBanner = document.querySelector('.idsk-cookie-banner')\n\n    if ($cookieBanner) {\n      // scroll handler\n      window.addEventListener('scroll', function () {\n        var headerPosition = document.body.getBoundingClientRect().top\n        // @ts-ignore\n        var cookieBannerHeight = $cookieBanner.offsetHeight\n        if (headerPosition < -cookieBannerHeight) {\n          $module.classList.remove('idsk-header-extended--cookie')\n          $module.style.top = '0px'\n        } else {\n          $module.classList.add('idsk-header-extended--cookie')\n          $module.style.top = cookieBannerHeight.toString() + 'px'\n        }\n      })\n\n      // cookie resize handler\n      var resizeObserver = new ResizeObserver(function () {\n        // @ts-ignore\n        $module.style.top = $cookieBanner.offsetHeight.toString() + 'px'\n      })\n\n      resizeObserver.observe($cookieBanner)\n    }\n  }\n}\n\n/**\n * Hide label if search input is not empty\n *\n * @param {object} e\n */\nIdskHeaderExtended.prototype.handleSearchChange = function (e) {\n  var $searchInput = e.target || e.srcElement\n  var $search = $searchInput.closest('.idsk-header-extended__search')\n  var $searchLabel = $search.querySelector('label')\n  if ($searchInput.value) {\n    $searchLabel.classList.add('idsk-header-extended__search-input--focus')\n  } else {\n    $searchLabel.classList.remove('idsk-header-extended__search-input--focus')\n  }\n}\n\n/**\n * Handle open/hide language switcher\n *\n * @param {object} e\n */\nIdskHeaderExtended.prototype.handleLanguageSwitcherClick = function (e) {\n  var $toggleButton = e.target || e.srcElement\n  // var $target = $toggleButton.closest('.idsk-header-extended__language');\n  this.$activeSearch = $toggleButton.closest('.idsk-header-extended__language')\n  toggleClass(this.$activeSearch, 'idsk-header-extended__language--active')\n  document.addEventListener(\n    'click',\n    this.$module.boundCheckBlurLanguageSwitcherClick,\n    true\n  )\n}\n\n/**\n * handle click outside language switcher or \"blur\" the item link\n */\nIdskHeaderExtended.prototype.checkBlurLanguageSwitcherClick = function () {\n  // var $target = this.$module.querySelectorAll('.idsk-header-extended__language');\n  this.$activeSearch.classList.remove('idsk-header-extended__language--active')\n  document.removeEventListener(\n    'click',\n    this.$module.boundCheckBlurLanguageSwitcherClick,\n    true\n  )\n}\n\n/**\n * Handle open/hide submenu\n *\n * @param {object} e\n */\nIdskHeaderExtended.prototype.handleSubmenuClick = function (e) {\n  var $srcEl = e.target || e.srcElement\n  var $toggleButton = $srcEl.closest('.idsk-header-extended__navigation-item')\n  var $currActiveList = this.$module.querySelectorAll(\n    '.idsk-header-extended__navigation-item--active'\n  )\n\n  if ($currActiveList.length > 0) {\n    $currActiveList[0].classList.remove(\n      'idsk-header-extended__navigation-item--active'\n    )\n  }\n  toggleClass($toggleButton, 'idsk-header-extended__navigation-item--active')\n\n  document.addEventListener(\n    'click',\n    this.$module.boundCheckBlurMenuItemClick,\n    true\n  )\n}\n\n/**\n * handle click outside menu or \"blur\" the item link\n */\nIdskHeaderExtended.prototype.checkBlurMenuItemClick = function () {\n  var $currActiveList = this.$module.querySelectorAll(\n    '.idsk-header-extended__navigation-item--active'\n  )\n  $currActiveList[0].classList.remove(\n    'idsk-header-extended__navigation-item--active'\n  )\n  document.removeEventListener(\n    'click',\n    this.$module.boundCheckBlurMenuItemClick,\n    true\n  )\n}\n\n/**\n * Show mobile menu\n *\n * @param {object} e\n */\nIdskHeaderExtended.prototype.showMobileMenu = function (e) {\n  var $hamburgerMenuButton = this.$module.querySelector(\n    '.idsk-js-header-extended-side-menu'\n  )\n\n  this.$module.classList.add('idsk-header-extended--show-mobile-menu')\n  document.getElementsByTagName('body')[0].style.overflow = 'hidden'\n  if (document.activeElement === $hamburgerMenuButton) {\n    // @ts-ignore\n    this.$lastMenuElement.focus()\n  }\n}\n/**\n * Hide mobile menu\n *\n * @param {object} e\n */\nIdskHeaderExtended.prototype.hideMobileMenu = function (e) {\n  var $hamburgerMenuButton = this.$module.querySelector(\n    '.idsk-js-header-extended-side-menu'\n  )\n\n  this.$module.classList.remove('idsk-header-extended--show-mobile-menu')\n  document.getElementsByTagName('body')[0].style.overflow = 'visible'\n  $hamburgerMenuButton.focus()\n}\n\n/**\n * Create loop in mobile menu for tabbing elements\n */\nIdskHeaderExtended.prototype.initMobileMenuTabbing = function () {\n  // Get header extended mobile menu focusable elements\n  var $headerExtended = this.$module.querySelectorAll(\n    '.idsk-header-extended__mobile'\n  )[0]\n  var $mobileMenuElements = $headerExtended.querySelectorAll(\n    'a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])'\n  )\n  this.$firstMenuElement = $mobileMenuElements[0]\n  this.$lastMenuElement = $mobileMenuElements[$mobileMenuElements.length - 1]\n  var KEYCODE_TAB = 9\n\n  document.addEventListener(\n    'keydown',\n    function (e) {\n      var isTabPressed = e.key === 'Tab' || e.keyCode === KEYCODE_TAB\n\n      if (!isTabPressed) {\n        return\n      }\n\n      if (e.shiftKey) {\n        // shift + tab\n        if (document.activeElement === this.$firstMenuElement) {\n          this.$lastMenuElement.focus()\n          e.preventDefault()\n        }\n      } else if (document.activeElement === this.$lastMenuElement) {\n        // tab\n        this.$firstMenuElement.focus()\n        e.preventDefault()\n      }\n    }.bind(this)\n  )\n}\n\n/**\n * When the user scrolls down from the top of the document, resize the navbar's padding and the logo\n */\nIdskHeaderExtended.prototype.scrollFunction = function () {\n  var $module = this.$module\n\n  if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {\n    $module.classList.add('idsk-header-extended--shrink')\n  } else if (\n    document.body.scrollTop < 10 &&\n    document.documentElement.scrollTop < 10\n  ) {\n    $module.classList.remove('idsk-header-extended--shrink')\n  }\n}\n\nexport default IdskHeaderExtended\n"],"names":[],"mappings":"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"}