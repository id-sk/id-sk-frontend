{"version":3,"file":"idsk-crossroad.mjs","sources":["../../../../src/govuk/components/idsk-crossroad/idsk-crossroad.mjs"],"sourcesContent":["/* eslint-disable */\n\nimport { toggleClass } from '../../common.mjs'\n\n/**\n * Crossroad Component\n */\nfunction IdskCrossroad ($module) {\n  this.$module = $module\n  this.$items = $module.querySelectorAll('.idsk-crossroad-title')\n}\n\n/**\n * Crossroad init function\n */\nIdskCrossroad.prototype.init = function () {\n  var $module = this.$module\n  var $items = this.$items\n  var $uncollapseButton = $module.querySelector(\n    '#idsk-crossroad__uncollapse-button'\n  )\n\n  if (!$module || !$items) {\n    return\n  }\n\n  if ($uncollapseButton) {\n    // eslint-disable-next-line es-x/no-function-prototype-bind\n    $uncollapseButton.addEventListener('click', this.handleShowItems.bind(this))\n  }\n\n  $items.forEach(\n    function ($item) {\n      $item.addEventListener('click', this.handleItemClick.bind(this))\n    }.bind(this)\n  )\n}\n\n/**\n * Crossroad handleItemClick callback\n */\nIdskCrossroad.prototype.handleItemClick = function (e) {\n  var $item = e.target\n  $item.setAttribute('aria-current', 'true')\n}\n\n/**\n * Crossroad setAriaLabel callback\n */\nIdskCrossroad.prototype.setAriaLabel = function (arr) {\n  arr.forEach(function (item) {\n    if (item.classList.contains('idsk-crossroad__arria-hidden')) {\n      item.setAttribute('aria-hidden', 'true')\n      toggleClass(item, 'idsk-crossroad__arria-hidden')\n    } else if (item.getAttribute('aria-hidden') === 'true') {\n      item.setAttribute('aria-hidden', 'false')\n      toggleClass(item, 'idsk-crossroad__arria-hidden')\n    }\n  })\n}\n\n/**\n * Crossroad handleShowItems callback\n */\nIdskCrossroad.prototype.handleShowItems = function (e) {\n  var $crossroadItems = this.$module.querySelectorAll('.idsk-crossroad__item')\n  var $uncollapseButton = this.$module.querySelector(\n    '#idsk-crossroad__uncollapse-button'\n  )\n  var $uncollapseDiv = this.$module.querySelector(\n    '.idsk-crossroad__uncollapse-div'\n  )\n  var $crossroadTitles = this.$module.querySelectorAll('.idsk-crossroad-title')\n  var $crossroadSubtitles = this.$module.querySelectorAll(\n    '.idsk-crossroad-subtitle'\n  )\n  var $expandedButton = this.$module.querySelector(\n    '.idsk-crossroad__colapse--button'\n  )\n\n  $crossroadItems.forEach(function (crossroadItem) {\n    toggleClass(crossroadItem, 'idsk-crossroad__item--two-columns-show')\n  })\n\n  this.setAriaLabel($crossroadTitles)\n  this.setAriaLabel($crossroadSubtitles)\n\n  $uncollapseButton.innerHTML =\n    $uncollapseButton.textContent === $uncollapseButton.dataset.line1\n      ? $uncollapseButton.dataset.line2\n      : $uncollapseButton.dataset.line1\n\n  toggleClass(e.srcElement, 'idsk-crossroad__colapse--button-show')\n  toggleClass($uncollapseDiv, 'idsk-crossroad__collapse--shadow')\n  toggleClass($uncollapseDiv, 'idsk-crossroad__collapse--arrow')\n  if (\n    $expandedButton.classList.contains('idsk-crossroad__colapse--button-show')\n  ) {\n    $expandedButton.setAttribute('aria-expanded', 'true')\n    $expandedButton.setAttribute(\n      'aria-label',\n      $expandedButton.getAttribute('data-text-for-show')\n    )\n  } else {\n    $expandedButton.setAttribute('aria-expanded', 'false')\n    $expandedButton.setAttribute(\n      'aria-label',\n      $expandedButton.getAttribute('data-text-for-hide')\n    )\n  }\n}\n\nexport default IdskCrossroad\n"],"names":[],"mappings":"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"}