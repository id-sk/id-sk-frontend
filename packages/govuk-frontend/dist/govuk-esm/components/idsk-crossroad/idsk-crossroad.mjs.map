{"version":3,"file":"idsk-crossroad.mjs","sources":["../../../../src/govuk/components/idsk-crossroad/idsk-crossroad.mjs"],"sourcesContent":["/* eslint-disable */\n\nimport { toggleClass } from '../../common.mjs'\n\n/**\n * Crossroad Component\n */\nfunction IdskCrossroad ($module) {\n  this.$module = $module\n  this.$items = $module.querySelectorAll('.idsk-crossroad-title')\n}\n\n/**\n * Crossroad init function\n */\nIdskCrossroad.prototype.init = function () {\n  var $module = this.$module\n  var $items = this.$items\n  var $uncollapseButton = $module.querySelector(\n    '#idsk-crossroad__uncollapse-button'\n  )\n\n  if (!$module || !$items) {\n    return\n  }\n\n  if ($uncollapseButton) {\n    // eslint-disable-next-line es-x/no-function-prototype-bind\n    $uncollapseButton.addEventListener('click', this.handleShowItems.bind(this))\n  }\n\n  $items.forEach(\n    function ($item) {\n      $item.addEventListener('click', this.handleItemClick.bind(this))\n    }.bind(this)\n  )\n}\n\n/**\n * Crossroad handleItemClick callback\n */\nIdskCrossroad.prototype.handleItemClick = function (e) {\n  var $item = e.target\n  $item.setAttribute('aria-current', 'true')\n}\n\n/**\n * Crossroad setAriaLabel callback\n */\nIdskCrossroad.prototype.setAriaLabel = function (arr) {\n  arr.forEach(function (item) {\n    if (item.classList.contains('idsk-crossroad__arria-hidden')) {\n      item.setAttribute('aria-hidden', 'true')\n      toggleClass(item, 'idsk-crossroad__arria-hidden')\n    } else if (item.getAttribute('aria-hidden') === 'true') {\n      item.setAttribute('aria-hidden', 'false')\n      toggleClass(item, 'idsk-crossroad__arria-hidden')\n    }\n  })\n}\n\n/**\n * Crossroad handleShowItems callback\n */\nIdskCrossroad.prototype.handleShowItems = function (e) {\n  var $crossroadItems = this.$module.querySelectorAll('.idsk-crossroad__item')\n  var $uncollapseButton = this.$module.querySelector(\n    '#idsk-crossroad__uncollapse-button'\n  )\n  var $uncollapseDiv = this.$module.querySelector(\n    '.idsk-crossroad__uncollapse-div'\n  )\n  var $crossroadTitles = this.$module.querySelectorAll('.idsk-crossroad-title')\n  var $crossroadSubtitles = this.$module.querySelectorAll(\n    '.idsk-crossroad-subtitle'\n  )\n  var $expandedButton = this.$module.querySelector(\n    '.idsk-crossroad__colapse--button'\n  )\n\n  $crossroadItems.forEach(function (crossroadItem) {\n    toggleClass(crossroadItem, 'idsk-crossroad__item--two-columns-show')\n  })\n\n  this.setAriaLabel($crossroadTitles)\n  this.setAriaLabel($crossroadSubtitles)\n\n  $uncollapseButton.innerHTML =\n    $uncollapseButton.textContent === $uncollapseButton.dataset.line1\n      ? $uncollapseButton.dataset.line2\n      : $uncollapseButton.dataset.line1\n\n  toggleClass(e.srcElement, 'idsk-crossroad__colapse--button-show')\n  toggleClass($uncollapseDiv, 'idsk-crossroad__collapse--shadow')\n  toggleClass($uncollapseDiv, 'idsk-crossroad__collapse--arrow')\n  if (\n    $expandedButton.classList.contains('idsk-crossroad__colapse--button-show')\n  ) {\n    $expandedButton.setAttribute('aria-expanded', 'true')\n    $expandedButton.setAttribute(\n      'aria-label',\n      $expandedButton.getAttribute('data-text-for-show')\n    )\n  } else {\n    $expandedButton.setAttribute('aria-expanded', 'false')\n    $expandedButton.setAttribute(\n      'aria-label',\n      $expandedButton.getAttribute('data-text-for-hide')\n    )\n  }\n}\n\nexport default IdskCrossroad\n"],"names":[],"mappings":"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"}