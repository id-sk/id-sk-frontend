{"version":3,"file":"idsk-feedback.mjs","sources":["../../../../src/govuk/components/idsk-feedback/idsk-feedback.mjs"],"sourcesContent":["/* eslint-disable */\n\n/**\n * Feedback for extended websites\n */\nfunction IdskFeedback ($module) {\n  this.$module = $module\n}\n\n/**\n * Feedback init function\n */\nIdskFeedback.prototype.init = function () {\n  var $module = this.$module\n  // check for module\n  if (!$module) {\n    return\n  }\n\n  var $textAreaCharacterCount = $module.querySelector(\n    '#idsk-feedback__question-bar #feedback'\n  )\n  var $sendButton = $module.querySelector('#idsk-feedback__send-button')\n  var $radioButtons = $module.querySelectorAll('.idsk-feedback__radio-button')\n\n  if ($radioButtons) {\n    var $self = this\n    // Handle $radioButtons click events\n    $radioButtons.forEach(function ($radioButton) {\n      $radioButton.addEventListener(\n        'click',\n        $self.handleRadioButtonClick.bind($self)\n      )\n    })\n  }\n\n  if ($sendButton) {\n    $sendButton.addEventListener('click', this.handleSendButtonClick.bind(this))\n  }\n\n  if ($textAreaCharacterCount) {\n    $textAreaCharacterCount.addEventListener(\n      'input',\n      this.handleStatusOfCharacterCountButton.bind(this)\n    )\n  }\n}\n\n/**\n * Feedback handleSendButtonClick handler\n */\nIdskFeedback.prototype.handleSendButtonClick = function (e) {\n  var $thanksForFeedbackBar = this.$module.querySelector(\n    '.idsk-feedback__thanks'\n  )\n  var $feedbackContent = this.$module.querySelector('.idsk-feedback__content')\n\n  $feedbackContent.classList.add('idsk-feedback--hidden')\n  $thanksForFeedbackBar.classList.remove('idsk-feedback--hidden')\n}\n\n/**\n * Feedback handleRadioButtonClick handler\n */\nIdskFeedback.prototype.handleRadioButtonClick = function (e) {\n  var $improoveQuestionBar = this.$module.querySelector(\n    '#idsk-feedback__question-bar'\n  )\n\n  if (e.srcElement.classList.contains('idsk-feedback-textarea--show')) {\n    $improoveQuestionBar.classList.add('idsk-feedback--open')\n    $improoveQuestionBar.classList.remove('idsk-feedback--invisible')\n  } else {\n    $improoveQuestionBar.classList.remove('idsk-feedback--open')\n    $improoveQuestionBar.classList.add('idsk-feedback--invisible')\n  }\n}\n\n/**\n * Feedback handleStatusOfCharacterCountButton handler\n */\nIdskFeedback.prototype.handleStatusOfCharacterCountButton = function (e) {\n  var $textAreaCharacterCount = this.$module.querySelector('#feedback')\n  var $remainingCharacterCountMessage =\n    this.$module.querySelector('#feedback-info')\n\n  var $submitButton = this.$module.querySelector('#idsk-feedback__send-button')\n\n  setTimeout(function () {\n    if (\n      $textAreaCharacterCount.classList.contains('govuk-textarea--error') ||\n      $remainingCharacterCountMessage.classList.contains('govuk-error-message')\n    ) {\n      $submitButton.disabled = true\n    } else {\n      $submitButton.disabled = false\n    }\n  }, 300)\n}\n\nexport default IdskFeedback\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,SAAS,YAAY,EAAE,OAAO,EAAE;AAChC,EAAE,IAAI,CAAC,OAAO,GAAG,QAAO;AACxB,CAAC;AACD;AACA;AACA;AACA;AACA,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;AAC1C,EAAE,IAAI,OAAO,GAAG,IAAI,CAAC,QAAO;AAC5B;AACA,EAAE,IAAI,CAAC,OAAO,EAAE;AAChB,IAAI,MAAM;AACV,GAAG;AACH;AACA,EAAE,IAAI,uBAAuB,GAAG,OAAO,CAAC,aAAa;AACrD,IAAI,wCAAwC;AAC5C,IAAG;AACH,EAAE,IAAI,WAAW,GAAG,OAAO,CAAC,aAAa,CAAC,6BAA6B,EAAC;AACxE,EAAE,IAAI,aAAa,GAAG,OAAO,CAAC,gBAAgB,CAAC,8BAA8B,EAAC;AAC9E;AACA,EAAE,IAAI,aAAa,EAAE;AACrB,IAAI,IAAI,KAAK,GAAG,KAAI;AACpB;AACA,IAAI,aAAa,CAAC,OAAO,CAAC,UAAU,YAAY,EAAE;AAClD,MAAM,YAAY,CAAC,gBAAgB;AACnC,QAAQ,OAAO;AACf,QAAQ,KAAK,CAAC,sBAAsB,CAAC,IAAI,CAAC,KAAK,CAAC;AAChD,QAAO;AACP,KAAK,EAAC;AACN,GAAG;AACH;AACA,EAAE,IAAI,WAAW,EAAE;AACnB,IAAI,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;AAChF,GAAG;AACH;AACA,EAAE,IAAI,uBAAuB,EAAE;AAC/B,IAAI,uBAAuB,CAAC,gBAAgB;AAC5C,MAAM,OAAO;AACb,MAAM,IAAI,CAAC,kCAAkC,CAAC,IAAI,CAAC,IAAI,CAAC;AACxD,MAAK;AACL,GAAG;AACH,EAAC;AACD;AACA;AACA;AACA;AACA,YAAY,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,CAAC,EAAE;AAC5D,EAAE,IAAI,qBAAqB,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa;AACxD,IAAI,wBAAwB;AAC5B,IAAG;AACH,EAAE,IAAI,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,yBAAyB,EAAC;AAC9E;AACA,EAAE,gBAAgB,CAAC,SAAS,CAAC,GAAG,CAAC,uBAAuB,EAAC;AACzD,EAAE,qBAAqB,CAAC,SAAS,CAAC,MAAM,CAAC,uBAAuB,EAAC;AACjE,EAAC;AACD;AACA;AACA;AACA;AACA,YAAY,CAAC,SAAS,CAAC,sBAAsB,GAAG,UAAU,CAAC,EAAE;AAC7D,EAAE,IAAI,oBAAoB,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa;AACvD,IAAI,8BAA8B;AAClC,IAAG;AACH;AACA,EAAE,IAAI,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC,8BAA8B,CAAC,EAAE;AACvE,IAAI,oBAAoB,CAAC,SAAS,CAAC,GAAG,CAAC,qBAAqB,EAAC;AAC7D,IAAI,oBAAoB,CAAC,SAAS,CAAC,MAAM,CAAC,0BAA0B,EAAC;AACrE,GAAG,MAAM;AACT,IAAI,oBAAoB,CAAC,SAAS,CAAC,MAAM,CAAC,qBAAqB,EAAC;AAChE,IAAI,oBAAoB,CAAC,SAAS,CAAC,GAAG,CAAC,0BAA0B,EAAC;AAClE,GAAG;AACH,EAAC;AACD;AACA;AACA;AACA;AACA,YAAY,CAAC,SAAS,CAAC,kCAAkC,GAAG,UAAU,CAAC,EAAE;AACzE,EAAE,IAAI,uBAAuB,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,WAAW,EAAC;AACvE,EAAE,IAAI,+BAA+B;AACrC,IAAI,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,gBAAgB,EAAC;AAChD;AACA,EAAE,IAAI,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,6BAA6B,EAAC;AAC/E;AACA,EAAE,UAAU,CAAC,YAAY;AACzB,IAAI;AACJ,MAAM,uBAAuB,CAAC,SAAS,CAAC,QAAQ,CAAC,uBAAuB,CAAC;AACzE,MAAM,+BAA+B,CAAC,SAAS,CAAC,QAAQ,CAAC,qBAAqB,CAAC;AAC/E,MAAM;AACN,MAAM,aAAa,CAAC,QAAQ,GAAG,KAAI;AACnC,KAAK,MAAM;AACX,MAAM,aAAa,CAAC,QAAQ,GAAG,MAAK;AACpC,KAAK;AACL,GAAG,EAAE,GAAG,EAAC;AACT;;;;"}