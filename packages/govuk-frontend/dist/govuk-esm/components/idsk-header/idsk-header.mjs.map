{"version":3,"file":"idsk-header.mjs","sources":["../../../../src/govuk/components/idsk-header/idsk-header.mjs"],"sourcesContent":["/* eslint-disable */\n\nimport { toggleClass } from '../../common.mjs'\n\n/**\n * Header component\n *\n * @class\n * @param {Element} $module - HTML element to use for header\n */\nfunction IdskHeader($module) {\n  this.$module = $module\n}\n\n/**\n * Initialise header\n */\nIdskHeader.prototype.init = function () {\n  // Check for module\n  var $module = this.$module\n  if (!$module) {\n    return\n  }\n\n  // Check for button\n  var $toggleButton = $module.querySelector('.govuk-js-header-toggle')\n  if (!$toggleButton) {\n    return\n  }\n\n  // Handle $toggleButton click events\n  $toggleButton.addEventListener('click', this.handleClick.bind(this))\n}\n\n/**\n * Toggle class\n *\n * @param {object} node - element\n * @param {string} className - className to toggle\n */\nIdskHeader.prototype.toggleClass = function (node, className) {\n  if (node.className.indexOf(className) > 0) {\n    node.className = node.className.replace(' ' + className, '')\n  } else {\n    node.className += ' ' + className\n  }\n}\n\n/**\n * An event handler for click event on $toggleButton\n *\n * @param {object} event - event\n */\nIdskHeader.prototype.handleClick = function (event) {\n  var $module = this.$module\n  var $toggleButton = event.target || event.srcElement\n  var $target = $module.querySelector('#' + $toggleButton.getAttribute('aria-controls'))\n\n  // If a button with aria-controls, handle click\n  if ($toggleButton && $target) {\n    toggleClass($target, 'idsk-header__navigation--open')\n    toggleClass($toggleButton, 'idsk-header__menu-button--open')\n\n    $toggleButton.setAttribute('aria-expanded', $toggleButton.getAttribute('aria-expanded') !== 'true')\n    $target.setAttribute('aria-hidden', ($target.getAttribute('aria-hidden') === 'false').toString())\n  }\n}\n\nexport default IdskHeader\n"],"names":[],"mappings":";;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,CAAC,OAAO,EAAE;AAC7B,EAAE,IAAI,CAAC,OAAO,GAAG,QAAO;AACxB,CAAC;AACD;AACA;AACA;AACA;AACA,UAAU,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;AACxC;AACA,EAAE,IAAI,OAAO,GAAG,IAAI,CAAC,QAAO;AAC5B,EAAE,IAAI,CAAC,OAAO,EAAE;AAChB,IAAI,MAAM;AACV,GAAG;AACH;AACA;AACA,EAAE,IAAI,aAAa,GAAG,OAAO,CAAC,aAAa,CAAC,yBAAyB,EAAC;AACtE,EAAE,IAAI,CAAC,aAAa,EAAE;AACtB,IAAI,MAAM;AACV,GAAG;AACH;AACA;AACA,EAAE,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;AACtE,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,IAAI,EAAE,SAAS,EAAE;AAC9D,EAAE,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;AAC7C,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,GAAG,SAAS,EAAE,EAAE,EAAC;AAChE,GAAG,MAAM;AACT,IAAI,IAAI,CAAC,SAAS,IAAI,GAAG,GAAG,UAAS;AACrC,GAAG;AACH,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,UAAU,KAAK,EAAE;AACpD,EAAE,IAAI,OAAO,GAAG,IAAI,CAAC,QAAO;AAC5B,EAAE,IAAI,aAAa,GAAG,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,WAAU;AACtD,EAAE,IAAI,OAAO,GAAG,OAAO,CAAC,aAAa,CAAC,GAAG,GAAG,aAAa,CAAC,YAAY,CAAC,eAAe,CAAC,EAAC;AACxF;AACA;AACA,EAAE,IAAI,aAAa,IAAI,OAAO,EAAE;AAChC,IAAI,WAAW,CAAC,OAAO,EAAE,+BAA+B,EAAC;AACzD,IAAI,WAAW,CAAC,aAAa,EAAE,gCAAgC,EAAC;AAChE;AACA,IAAI,aAAa,CAAC,YAAY,CAAC,eAAe,EAAE,aAAa,CAAC,YAAY,CAAC,eAAe,CAAC,KAAK,MAAM,EAAC;AACvG,IAAI,OAAO,CAAC,YAAY,CAAC,aAAa,EAAE,CAAC,OAAO,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,OAAO,EAAE,QAAQ,EAAE,EAAC;AACrG,GAAG;AACH;;;;"}