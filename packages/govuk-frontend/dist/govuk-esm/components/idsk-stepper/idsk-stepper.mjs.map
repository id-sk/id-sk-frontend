{"version":3,"file":"idsk-stepper.mjs","sources":["../../../../src/govuk/components/idsk-stepper/idsk-stepper.mjs"],"sourcesContent":["/*\n  Stepper\n\n  This allows a collection of sections to be collapsed by default,\n  showing only their headers. Sections can be exanded or collapsed\n  individually by clicking their headers. An \"Zobraziť všetko\" button is\n  also added to the top of the accordion, which switches to \"Zatvoriť všetko\"\n  when all the sections are expanded.\n\n  The state of each section is saved to the DOM via the `aria-expanded`\n  attribute, which also provides accessibility.\n\n*/\n\n/* eslint-disable */\n\nimport '../../vendor/polyfills/Element/prototype/classList.mjs'\n\n/**\n * Stepper component\n *\n * @param {object} $module - The module to enhance\n */\nfunction IdskStepper ($module) {\n  this.$module = $module\n  this.$moduleId = $module.getAttribute('id')\n  this.$sections = $module.querySelectorAll('.idsk-stepper__section')\n  this.$links = $module.querySelectorAll(\n    '.idsk-stepper__section-content .govuk-link'\n  )\n  this.$openAllButton = {}\n  this.$browserSupportsSessionStorage = $helper.checkForSessionStorage()\n\n  this.$controlsClass = 'idsk-stepper__controls'\n  this.$openAllClass = 'idsk-stepper__open-all'\n  this.$iconClass = 'idsk-stepper__icon'\n\n  this.$sectionHeaderClass = 'idsk-stepper__section-header'\n  this.$sectionHeaderFocusedClass = 'idsk-stepper__section-header--focused'\n  this.$sectionHeadingClass = 'idsk-stepper__section-heading'\n  this.$sectionSummaryClass = 'idsk-stepper__section-summary'\n  this.$sectionButtonClass = 'idsk-stepper__section-button'\n  this.$sectionExpandedClass = 'idsk-stepper__section--expanded'\n}\n\n/**\n * Stepper init function\n */\nIdskStepper.prototype.init = function () {\n  // Check for module\n  if (!this.$module) {\n    return\n  }\n\n  this.initControls()\n  this.initSectionHeaders()\n\n  this.$links.forEach(\n    function ($link) {\n      $link.addEventListener('click', this.handleItemLink.bind(this))\n      $link.addEventListener('blur', this.handleItemLinkBlur.bind(this))\n    }.bind(this)\n  )\n\n  // See if \"Zobraziť všetko\" button text should be updated\n  var $areAllSectionsOpen = this.checkIfAllSectionsOpen()\n  this.updateOpenAllButton($areAllSectionsOpen)\n}\n\n/**\n * Initialise controls and set attributes\n */\nIdskStepper.prototype.initControls = function () {\n  var $accordionControls = this.$module.querySelector('.idsk-stepper__controls')\n\n  if ($accordionControls) {\n    // Create \"Zobraziť všetko\" button and set attributes\n    this.$openAllButton = document.createElement('button')\n    this.$openAllButton.setAttribute('type', 'button')\n    this.$openAllButton.innerHTML =\n      $accordionControls.dataset.line1 +\n      ' <span class=\"govuk-visually-hidden\">sekcie</span>'\n    this.$openAllButton.setAttribute('class', this.$openAllClass)\n    this.$openAllButton.setAttribute('aria-expanded', 'false')\n    this.$openAllButton.setAttribute('type', 'button')\n\n    // Create control wrapper and add controls to it\n    $accordionControls.appendChild(this.$openAllButton)\n\n    // Handle events for the controls\n    this.$openAllButton.addEventListener(\n      'click',\n      this.onOpenOrCloseAllToggle.bind(this)\n    )\n  } else {\n    console.log(\n      'Incorrect implementation of stepper, stepper controls are missing.'\n    )\n  }\n}\n\n/**\n * Initialise section headers\n */\nIdskStepper.prototype.initSectionHeaders = function () {\n  // Loop through section headers\n  this.$sections.forEach(\n    function ($section, $i) {\n      // Set header attributes\n      var $header = $section.querySelector('.' + this.$sectionHeaderClass)\n\n      if ($header) {\n        this.initHeaderAttributes($header, $i)\n\n        this.setExpanded(this.isExpanded($section), $section)\n\n        // Handle events\n        $header.addEventListener(\n          'click',\n          this.onSectionToggle.bind(this, $section)\n        )\n\n        // See if there is any state stored in sessionStorage and set the sections to\n        // open or closed.\n        this.setInitialState($section)\n      } else {\n        console.log(\n          'Incorrect implementation of stepper, stepper header is missing.'\n        )\n      }\n    }.bind(this)\n  )\n}\n\n/**\n * Stepper handleItemLink handler\n *\n * @param {object} e - Event\n */\nIdskStepper.prototype.handleItemLink = function (e) {\n  var $link = e.target || e.srcElement\n  var $currentSection = $link.closest('.idsk-stepper__section')\n  $currentSection.classList.add('idsk-stepper__bolder-line')\n}\n\n/**\n * Stepper handleItemLinkBlur handler\n *\n * @param {object} e - Event\n */\nIdskStepper.prototype.handleItemLinkBlur = function (e) {\n  var $link = e.target || e.srcElement\n  var $currentSection = $link.closest('.idsk-stepper__section')\n  $currentSection.classList.remove('idsk-stepper__bolder-line')\n}\n\n/**\n * Set individual header attributes\n *\n * @param {object} $headerWrapper - header wrapper element\n * @param {number} index - header index\n */\n// Set individual header attributes\nIdskStepper.prototype.initHeaderAttributes = function ($headerWrapper, index) {\n  var $module = this.$module\n  var $span = $headerWrapper.querySelector('.' + this.$sectionButtonClass)\n  var $heading = $headerWrapper.querySelector('.' + this.$sectionHeadingClass)\n  var $summary = $headerWrapper.querySelector('.' + this.$sectionSummaryClass)\n\n  if (!$span) {\n    return\n  }\n\n  // Copy existing span element to an actual button element, for improved accessibility.\n  var $button = document.createElement('button')\n  $button.setAttribute('type', 'button')\n  $button.setAttribute('id', this.$moduleId + '-heading-' + (index + 1))\n  $button.setAttribute(\n    'aria-controls',\n    this.$moduleId + '-content-' + (index + 1)\n  )\n\n  // Copy all attributes (https://developer.mozilla.org/en-US/docs/Web/API/Element/attributes) from $span to $button\n  for (var i = 0; i < $span.attributes.length; i++) {\n    var $attr = $span.attributes.item(i)\n    $button.setAttribute($attr.nodeName, $attr.nodeValue)\n  }\n\n  $button.addEventListener('focusin', function (e) {\n    if (\n      !$headerWrapper.classList.contains($module.$sectionHeaderFocusedClass)\n    ) {\n      $headerWrapper.className += ' ' + $module.$sectionHeaderFocusedClass\n    }\n  })\n\n  $button.addEventListener('blur', function (e) {\n    $headerWrapper.classList.remove($module.$sectionHeaderFocusedClass)\n  })\n\n  if (typeof $summary !== 'undefined' && $summary !== null) {\n    $button.setAttribute(\n      'aria-describedby',\n      this.$moduleId + '-summary-' + (index + 1)\n    )\n  }\n\n  // $span could contain HTML elements (see https://www.w3.org/TR/2011/WD-html5-20110525/content-models.html#phrasing-content)\n  $button.innerHTML = $span.innerHTML\n\n  $heading.removeChild($span)\n  $heading.appendChild($button)\n\n  // Add \"+/-\" icon\n  var $icon = document.createElement('span')\n  $icon.className = this.$iconClass\n  $icon.setAttribute('aria-hidden', 'true')\n\n  $heading.appendChild($icon)\n}\n\n/**\n * When section toggled, set and store state\n *\n * @param {object} $section - section element\n */\nIdskStepper.prototype.onSectionToggle = function ($section) {\n  var $expanded = this.isExpanded($section)\n  this.setExpanded(!$expanded, $section)\n\n  // Store the state in sessionStorage when a change is triggered\n  this.storeState($section)\n}\n\n/**\n * When Open/Zatvoriť všetko toggled, set and store state\n */\nIdskStepper.prototype.onOpenOrCloseAllToggle = function () {\n  var $self = this\n  var $sections = this.$sections\n  var $nowExpanded = !this.checkIfAllSectionsOpen()\n\n  $sections.forEach(function ($section) {\n    $self.setExpanded($nowExpanded, $section)\n    // Store the state in sessionStorage when a change is triggered\n    $self.storeState($section)\n  })\n\n  $self.updateOpenAllButton($nowExpanded)\n}\n\n/**\n * Set section attributes when opened/closed\n *\n * @param {boolean} $expanded - true if section should be expanded\n * @param {object} $section - section element\n */\nIdskStepper.prototype.setExpanded = function ($expanded, $section) {\n  var $button = $section.querySelector('.' + this.$sectionButtonClass)\n  if (!$button) {\n    return\n  }\n  $button.setAttribute('aria-expanded', $expanded)\n\n  if ($expanded) {\n    $section.classList.add(this.$sectionExpandedClass)\n  } else {\n    $section.classList.remove(this.$sectionExpandedClass)\n  }\n\n  // See if \"Zobraziť všetko\" button text should be updated\n  var $areAllSectionsOpen = this.checkIfAllSectionsOpen()\n  this.updateOpenAllButton($areAllSectionsOpen)\n}\n\n/**\n * Get state of section\n *\n * @param {object} $section - section element\n * @returns {boolean} true if section is expanded\n */\nIdskStepper.prototype.isExpanded = function ($section) {\n  return $section.classList.contains(this.$sectionExpandedClass)\n}\n\n/**\n * Check if all sections are open\n *\n * @returns {boolean} true if all sections are open\n */\nIdskStepper.prototype.checkIfAllSectionsOpen = function () {\n  // Get a count of all the Accordion sections\n  var $sectionsCount = this.$sections.length\n  // Get a count of all Accordion sections that are expanded\n  var $expandedSectionCount = this.$module.querySelectorAll(\n    '.' + this.$sectionExpandedClass\n  ).length\n  var $areAllSectionsOpen = $sectionsCount === $expandedSectionCount\n\n  return $areAllSectionsOpen\n}\n\n/**\n * Update \"Zobraziť všetko\" button\n *\n * @param {boolean} $expanded - true if all sections should be expanded\n */\nIdskStepper.prototype.updateOpenAllButton = function ($expanded) {\n  var $accordionControls = this.$module.querySelector('.idsk-stepper__controls')\n\n  if ($accordionControls) {\n    var $newButtonText = $expanded\n      ? $accordionControls.dataset.line2\n      : $accordionControls.dataset.line1\n    $newButtonText += '<span class=\"govuk-visually-hidden\">sekcie</span>'\n    this.$openAllButton.setAttribute('aria-expanded', $expanded)\n    this.$openAllButton.innerHTML = $newButtonText\n  } else {\n    console.log(\n      'Incorrect implementation of stepper, stepper controls are missing.'\n    )\n  }\n}\n\n/**\n * helper object\n */\nvar $helper = {\n  /**\n   * Check for `window.sessionStorage`, and that it actually works.\n   *\n   * @returns {boolean} true if the browser supports sessionStorage\n   */\n  checkForSessionStorage: function () {\n    var $testString = 'this is the test string'\n    var $result\n    try {\n      window.sessionStorage.setItem($testString, $testString)\n      $result =\n        window.sessionStorage.getItem($testString) === $testString.toString()\n      window.sessionStorage.removeItem($testString)\n      return $result\n    } catch (exception) {\n      if (\n        typeof console === 'undefined' ||\n        typeof console.log === 'undefined'\n      ) {\n        console.log('Notice: sessionStorage not available.')\n      }\n      return false\n    }\n  }\n}\n\n/**\n * Set the state of the accordions in sessionStorage\n *\n * @param {object} $section - section element\n */\nIdskStepper.prototype.storeState = function ($section) {\n  if (this.$browserSupportsSessionStorage) {\n    // We need a unique way of identifying each content in the accordion. Since\n    // an `#id` should be unique and an `id` is required for `aria-` attributes\n    // `id` can be safely used.\n    var $button = $section.querySelector('.' + this.$sectionButtonClass)\n\n    if ($button) {\n      var $contentId = $button.getAttribute('aria-controls')\n      var $contentState = $button.getAttribute('aria-expanded')\n\n      if (\n        typeof $contentId === 'undefined' &&\n        (typeof console === 'undefined' || typeof console.log === 'undefined')\n      ) {\n        console.error(\n          new Error('No aria controls present in accordion section heading.')\n        )\n      }\n\n      if (\n        typeof $contentState === 'undefined' &&\n        (typeof console === 'undefined' || typeof console.log === 'undefined')\n      ) {\n        console.error(\n          new Error('No aria expanded present in accordion section heading.')\n        )\n      }\n\n      // Only set the state when both `contentId` and `contentState` are taken from the DOM.\n      if ($contentId && $contentState) {\n        window.sessionStorage.setItem($contentId, $contentState)\n      }\n    }\n  }\n}\n\n/**\n * Read the state of the accordions from sessionStorage\n *\n * @param {object} $section - section element\n */\nIdskStepper.prototype.setInitialState = function ($section) {\n  if (this.$browserSupportsSessionStorage) {\n    var $button = $section.querySelector('.' + this.$sectionButtonClass)\n\n    if ($button) {\n      var $contentId = $button.getAttribute('aria-controls')\n      var $contentState = $contentId\n        ? window.sessionStorage.getItem($contentId)\n        : null\n\n      if ($contentState !== null) {\n        this.setExpanded($contentState === 'true', $section)\n      }\n    }\n  }\n}\n\nexport default IdskStepper\n"],"names":[],"mappings":"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"}