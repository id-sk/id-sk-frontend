{"version":3,"file":"idsk-registration-for-event.mjs","sources":["../../../../src/govuk/components/idsk-registration-for-event/idsk-registration-for-event.mjs"],"sourcesContent":["/* eslint-disable */\n/* eslint-disable es-x/no-function-prototype-bind -- Polyfill imported */\n\n/**\n * RegistrationForEvent Component\n *\n * @param {object} $module - HTML element to use for RegistrationForEvent component\n */\nfunction IdskRegistrationForEvent ($module) {\n  this.$module = $module\n}\n\n/**\n * RegistrationForEvent Component init function\n */\nIdskRegistrationForEvent.prototype.init = function () {\n  // Check for module\n  var $module = this.$module\n  if (!$module) {\n    return\n  }\n\n  // Check for button\n  var $submitButtons = $module.querySelectorAll(\n    '.idsk-registration-for-event-js-submit'\n  )\n  if (!$submitButtons) {\n    return\n  }\n\n  // Handle $submitButtons click events\n  $submitButtons.forEach(\n    function ($submitButton) {\n      $submitButton.addEventListener('click', this.handleSubmitClick.bind(this))\n    }.bind(this)\n  )\n}\n\n/**\n * RegistrationForEvent Component handle submit click function\n */\nIdskRegistrationForEvent.prototype.handleSubmitClick = function (e) {\n  e.preventDefault()\n\n  var $module = this.$module\n  var $form = $module.querySelector('.idsk-registration-for-event__form')\n  var $thankYouMsg = $module.querySelector(\n    '.idsk-registration-for-event__thank-you-msg'\n  )\n  var $requiredFormItems = $module.querySelectorAll('[required]')\n  var $valid = true\n  var emailRegex = /\\S+@\\S+\\.\\S+/\n\n  $requiredFormItems.forEach(function ($item) {\n    var $formGroup = $item.closest('.govuk-form-group')\n\n    if (\n      !$item.checkValidity() ||\n      ($item.type === 'email' && !emailRegex.test($item.value))\n    ) {\n      $formGroup.querySelector('.govuk-error-message').style.display = 'block'\n      $formGroup.classList.add('govuk-form-group--error')\n      $item.classList.add('govuk-input--error')\n      $valid = false\n    } else {\n      $formGroup.querySelector('.govuk-error-message').style.display = 'none'\n      $formGroup.classList.remove('govuk-form-group--error')\n      $item.classList.remove('govuk-input--error')\n    }\n  })\n\n  if ($valid) {\n    $thankYouMsg.style.display = 'block'\n    $form.style.display = 'none'\n  }\n}\n\nexport default IdskRegistrationForEvent\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,wBAAwB,EAAE,OAAO,EAAE;AAC5C,EAAE,IAAI,CAAC,OAAO,GAAG,QAAO;AACxB,CAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;AACtD;AACA,EAAE,IAAI,OAAO,GAAG,IAAI,CAAC,QAAO;AAC5B,EAAE,IAAI,CAAC,OAAO,EAAE;AAChB,IAAI,MAAM;AACV,GAAG;AACH;AACA;AACA,EAAE,IAAI,cAAc,GAAG,OAAO,CAAC,gBAAgB;AAC/C,IAAI,wCAAwC;AAC5C,IAAG;AACH,EAAE,IAAI,CAAC,cAAc,EAAE;AACvB,IAAI,MAAM;AACV,GAAG;AACH;AACA;AACA,EAAE,cAAc,CAAC,OAAO;AACxB,IAAI,UAAU,aAAa,EAAE;AAC7B,MAAM,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAC;AAChF,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;AAChB,IAAG;AACH,EAAC;AACD;AACA;AACA;AACA;AACA,wBAAwB,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,CAAC,EAAE;AACpE,EAAE,CAAC,CAAC,cAAc,GAAE;AACpB;AACA,EAAE,IAAI,OAAO,GAAG,IAAI,CAAC,QAAO;AAC5B,EAAE,IAAI,KAAK,GAAG,OAAO,CAAC,aAAa,CAAC,oCAAoC,EAAC;AACzE,EAAE,IAAI,YAAY,GAAG,OAAO,CAAC,aAAa;AAC1C,IAAI,6CAA6C;AACjD,IAAG;AACH,EAAE,IAAI,kBAAkB,GAAG,OAAO,CAAC,gBAAgB,CAAC,YAAY,EAAC;AACjE,EAAE,IAAI,MAAM,GAAG,KAAI;AACnB,EAAE,IAAI,UAAU,GAAG,eAAc;AACjC;AACA,EAAE,kBAAkB,CAAC,OAAO,CAAC,UAAU,KAAK,EAAE;AAC9C,IAAI,IAAI,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,mBAAmB,EAAC;AACvD;AACA,IAAI;AACJ,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE;AAC5B,OAAO,KAAK,CAAC,IAAI,KAAK,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;AAC/D,MAAM;AACN,MAAM,UAAU,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,QAAO;AAC9E,MAAM,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,yBAAyB,EAAC;AACzD,MAAM,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,EAAC;AAC/C,MAAM,MAAM,GAAG,MAAK;AACpB,KAAK,MAAM;AACX,MAAM,UAAU,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC,KAAK,CAAC,OAAO,GAAG,OAAM;AAC7E,MAAM,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,yBAAyB,EAAC;AAC5D,MAAM,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,oBAAoB,EAAC;AAClD,KAAK;AACL,GAAG,EAAC;AACJ;AACA,EAAE,IAAI,MAAM,EAAE;AACd,IAAI,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,QAAO;AACxC,IAAI,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,OAAM;AAChC,GAAG;AACH;;;;"}