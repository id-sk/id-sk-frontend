!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("GOVUKFrontend",["exports"],t):t(e.GOVUKFrontend={})}(this,(function(e){"use strict";function t(){for(var e=function(e){var t={},i=function(e,s){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=e[n],r=s?s+"."+n:n;"object"==typeof o?i(o,r):t[r]=o}};return i(e),t},t={},i=0;i<arguments.length;i++){var s=e(arguments[i]);for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t}function i(e,t){if(!e||"object"!=typeof e)throw new Error('Provide a `configObject` of type "object".');if(!t||"string"!=typeof t)throw new Error('Provide a `namespace` of type "string" to filter the `configObject` by.');var i={};for(var s in e){var n=s.split(".");if(Object.prototype.hasOwnProperty.call(e,s)&&n[0]===t)n.length>1&&n.shift(),i[n.join(".")]=e[s]}return i}function s(e,t){null!==e&&(e.className.indexOf(t)>0?e.className=e.className.replace(" "+t,""):e.className+=" "+t)}function n(e){if("string"!=typeof e)return e;var t=e.trim();return"true"===t||"false"!==t&&(t.length>0&&isFinite(Number(t))?Number(t):e)}function o(e){var t={};for(var i in e)t[i]=n(e[i]);return t}function r(e,t){this.translations=e||{},this.locale=t&&t.locale||document.documentElement.lang||"en"}r.prototype.t=function(e,t){if(!e)throw new Error("i18n: lookup key missing");t&&"number"==typeof t.count&&(e=e+"."+this.getPluralSuffix(e,t.count));var i=this.translations[e];if("string"==typeof i){if(i.match(/%{(.\S+)}/)){if(!t)throw new Error("i18n: cannot replace placeholders in string if no option data provided");return this.replacePlaceholders(i,t)}return i}return e},r.prototype.replacePlaceholders=function(e,t){var i;return this.hasIntlNumberFormatSupport()&&(i=new Intl.NumberFormat(this.locale)),e.replace(/%{(.\S+)}/g,(function(e,s){if(Object.prototype.hasOwnProperty.call(t,s)){var n=t[s];return!1===n||"number"!=typeof n&&"string"!=typeof n?"":"number"==typeof n?i?i.format(n):n.toString():n}throw new Error("i18n: no data found to replace "+e+" placeholder in string")}))},r.prototype.hasIntlPluralRulesSupport=function(){return Boolean(window.Intl&&"PluralRules"in window.Intl&&Intl.PluralRules.supportedLocalesOf(this.locale).length)},r.prototype.hasIntlNumberFormatSupport=function(){return Boolean(window.Intl&&"NumberFormat"in window.Intl&&Intl.NumberFormat.supportedLocalesOf(this.locale).length)},r.prototype.getPluralSuffix=function(e,t){if(t=Number(t),!isFinite(t))return"other";var i;if(e+"."+(i=this.hasIntlPluralRulesSupport()?new Intl.PluralRules(this.locale).select(t):this.selectPluralFormUsingFallbackRules(t))in this.translations)return i;if(e+".other"in this.translations)return console&&"warn"in console&&console.warn('i18n: Missing plural form ".'+i+'" for "'+this.locale+'" locale. Falling back to ".other".'),"other";throw new Error('i18n: Plural form ".other" is required for "'+this.locale+'" locale')},r.prototype.selectPluralFormUsingFallbackRules=function(e){e=Math.abs(Math.floor(e));var t=this.getPluralRulesForLocale();return t?r.pluralRules[t](e):"other"},r.prototype.getPluralRulesForLocale=function(){var e=this.locale,t=e.split("-")[0];for(var i in r.pluralRulesMap)if(Object.prototype.hasOwnProperty.call(r.pluralRulesMap,i))for(var s=r.pluralRulesMap[i],n=0;n<s.length;n++)if(s[n]===e||s[n]===t)return i},r.pluralRulesMap={arabic:["ar"],chinese:["my","zh","id","ja","jv","ko","ms","th","vi"],french:["hy","bn","fr","gu","hi","fa","pa","zu"],german:["af","sq","az","eu","bg","ca","da","nl","en","et","fi","ka","de","el","hu","lb","no","so","sw","sv","ta","te","tr","ur"],irish:["ga"],russian:["ru","uk"],scottish:["gd"],spanish:["pt-PT","it","es"],welsh:["cy"]},r.pluralRules={arabic:function(e){return 0===e?"zero":1===e?"one":2===e?"two":e%100>=3&&e%100<=10?"few":e%100>=11&&e%100<=99?"many":"other"},chinese:function(){return"other"},french:function(e){return 0===e||1===e?"one":"other"},german:function(e){return 1===e?"one":"other"},irish:function(e){return 1===e?"one":2===e?"two":e>=3&&e<=6?"few":e>=7&&e<=10?"many":"other"},russian:function(e){var t=e%100,i=t%10;return 1===i&&11!==t?"one":i>=2&&i<=4&&!(t>=12&&t<=14)?"few":0===i||i>=5&&i<=9||t>=11&&t<=14?"many":"other"},scottish:function(e){return 1===e||11===e?"one":2===e||12===e?"two":e>=3&&e<=10||e>=13&&e<=19?"few":"other"},spanish:function(e){return 1===e?"one":e%1e6==0&&0!==e?"many":"other"},welsh:function(e){return 0===e?"zero":1===e?"one":2===e?"two":3===e?"few":6===e?"many":"other"}},function(e){var t;"DOMTokenList"in this&&(!("classList"in(t=document.createElement("x")))||!t.classList.toggle("x",!1)&&!t.className)||function(t){var i;"DOMTokenList"in t&&t.DOMTokenList&&(!document.createElementNS||!document.createElementNS("http://www.w3.org/2000/svg","svg")||document.createElementNS("http://www.w3.org/2000/svg","svg").classList instanceof DOMTokenList)||(t.DOMTokenList=function(){var t=!0,s=function(e,i,s,n){Object.defineProperty?Object.defineProperty(e,i,{configurable:!1===t||!!n,get:s}):e.__defineGetter__(i,s)};try{s({},"support")}catch(i){t=!1}return function(t,i){var n=this,o=[],r={},a=0,l=0,d=function(e){s(n,e,(function(){return u(),o[e]}),!1)},c=function(){if(a>=l)for(;l<a;++l)d(l)},u=function(){var e,s,n=arguments,l=/\s+/;if(n.length)for(s=0;s<n.length;++s)if(l.test(n[s]))throw(e=new SyntaxError('String "'+n[s]+'" contains an invalid character')).code=5,e.name="InvalidCharacterError",e;for(""===(o="object"==typeof t[i]?(""+t[i].baseVal).replace(/^\s+|\s+$/g,"").split(l):(""+t[i]).replace(/^\s+|\s+$/g,"").split(l))[0]&&(o=[]),r={},s=0;s<o.length;++s)r[o[s]]=!0;a=o.length,c()};return u(),s(n,"length",(function(){return u(),a})),n.toLocaleString=n.toString=function(){return u(),o.join(" ")},n.item=function(e){return u(),o[e]},n.contains=function(e){return u(),!!r[e]},n.add=function(){u.apply(n,e=arguments);for(var e,s,l=0,d=e.length;l<d;++l)r[s=e[l]]||(o.push(s),r[s]=!0);a!==o.length&&(a=o.length>>>0,"object"==typeof t[i]?t[i].baseVal=o.join(" "):t[i]=o.join(" "),c())},n.remove=function(){u.apply(n,e=arguments);for(var e,s={},l=0,d=[];l<e.length;++l)s[e[l]]=!0,delete r[e[l]];for(l=0;l<o.length;++l)s[o[l]]||d.push(o[l]);o=d,a=d.length>>>0,"object"==typeof t[i]?t[i].baseVal=o.join(" "):t[i]=o.join(" "),c()},n.toggle=function(t,i){return u.apply(n,[t]),e!==i?i?(n.add(t),!0):(n.remove(t),!1):r[t]?(n.remove(t),!1):(n.add(t),!0)},n}}()),"classList"in(i=document.createElement("span"))&&(i.classList.toggle("x",!1),i.classList.contains("x")&&(i.classList.constructor.prototype.toggle=function(t){var i=arguments[1];if(i===e){var s=!this.contains(t);return this[s?"add":"remove"](t),s}return this[(i=!!i)?"add":"remove"](t),i})),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a","b"),!e.classList.contains("b"))){var t=e.classList.constructor.prototype.add;e.classList.constructor.prototype.add=function(){for(var e=arguments,i=arguments.length,s=0;s<i;s++)t.call(this,e[s])}}}(),function(){var e=document.createElement("span");if("classList"in e&&(e.classList.add("a"),e.classList.add("b"),e.classList.remove("a","b"),e.classList.contains("b"))){var t=e.classList.constructor.prototype.remove;e.classList.constructor.prototype.remove=function(){for(var e=arguments,i=arguments.length,s=0;s<i;s++)t.call(this,e[s])}}}()}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){var t;"document"in this&&"classList"in document.documentElement&&"Element"in this&&"classList"in Element.prototype&&((t=document.createElement("span")).classList.add("a","b"),t.classList.contains("b"))||function(e){var i=!0,s=function(e,t,s,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!1===i||!!n,get:s}):e.__defineGetter__(t,s)};try{s({},"support")}catch(t){i=!1}var n=function(e,t,o){s(e.prototype,t,(function(){var e,r=this,a="__defineGetter__DEFINE_PROPERTY"+t;if(r[a])return e;if(r[a]=!0,!1===i){for(var l,d=n.mirror||document.createElement("div"),c=d.childNodes,u=c.length,h=0;h<u;++h)if(c[h]._R===r){l=c[h];break}l||(l=d.appendChild(document.createElement("div"))),e=DOMTokenList.call(l,r,o)}else e=new DOMTokenList(r,o);return s(r,t,(function(){return e})),delete r[a],e}),!0)};n(e.Element,"classList","className"),n(e.HTMLElement,"classList","className"),n(e.HTMLLinkElement,"relList","rel"),n(e.HTMLAnchorElement,"relList","rel"),n(e.HTMLAreaElement,"relList","rel")}(this)}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"document"in this&&"matches"in document.documentElement||(Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(e){for(var t=this,i=(t.document||t.ownerDocument).querySelectorAll(e),s=0;i[s]&&i[s]!==t;)++s;return!!i[s]})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"document"in this&&"closest"in document.documentElement||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t="SVGElement"in window&&t instanceof SVGElement?t.parentNode:t.parentElement}return null})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});var a={hideAllSections:"Hide all sections",hideSection:"Hide",hideSectionAriaLabel:"Hide this section",showAllSections:"Show all sections",showSection:"Show",showSectionAriaLabel:"Show this section"};function l(e,s){if(!(e instanceof HTMLElement))return this;this.$module=e;var n={i18n:a,rememberExpanded:!0};this.config=t(n,s||{},o(e.dataset)),this.i18n=new r(i(this.config,"i18n")),this.controlsClass="govuk-accordion__controls",this.showAllClass="govuk-accordion__show-all",this.showAllTextClass="govuk-accordion__show-all-text",this.sectionClass="govuk-accordion__section",this.sectionExpandedClass="govuk-accordion__section--expanded",this.sectionButtonClass="govuk-accordion__section-button",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionHeadingDividerClass="govuk-accordion__section-heading-divider",this.sectionHeadingTextClass="govuk-accordion__section-heading-text",this.sectionHeadingTextFocusClass="govuk-accordion__section-heading-text-focus",this.sectionShowHideToggleClass="govuk-accordion__section-toggle",this.sectionShowHideToggleFocusClass="govuk-accordion__section-toggle-focus",this.sectionShowHideTextClass="govuk-accordion__section-toggle-text",this.upChevronIconClass="govuk-accordion-nav__chevron",this.downChevronIconClass="govuk-accordion-nav__chevron--down",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionSummaryFocusClass="govuk-accordion__section-summary-focus",this.sectionContentClass="govuk-accordion__section-content";var l=this.$module.querySelectorAll("."+this.sectionClass);if(!l.length)return this;this.$sections=l,this.browserSupportsSessionStorage=d.checkForSessionStorage(),this.$showAllButton=null,this.$showAllIcon=null,this.$showAllText=null}l.prototype.init=function(){if(this.$module&&this.$sections){this.initControls(),this.initSectionHeaders();var e=this.checkIfAllSectionsOpen();this.updateShowAllButton(e)}},l.prototype.initControls=function(){this.$showAllButton=document.createElement("button"),this.$showAllButton.setAttribute("type","button"),this.$showAllButton.setAttribute("class",this.showAllClass),this.$showAllButton.setAttribute("aria-expanded","false"),this.$showAllIcon=document.createElement("span"),this.$showAllIcon.classList.add(this.upChevronIconClass),this.$showAllButton.appendChild(this.$showAllIcon);var e=document.createElement("div");e.setAttribute("class",this.controlsClass),e.appendChild(this.$showAllButton),this.$module.insertBefore(e,this.$module.firstChild),this.$showAllText=document.createElement("span"),this.$showAllText.classList.add(this.showAllTextClass),this.$showAllButton.appendChild(this.$showAllText),this.$showAllButton.addEventListener("click",this.onShowOrHideAllToggle.bind(this)),"onbeforematch"in document&&document.addEventListener("beforematch",this.onBeforeMatch.bind(this))},l.prototype.initSectionHeaders=function(){var e=this;this.$sections.forEach((function(t,i){var s=t.querySelector("."+e.sectionHeaderClass);s&&(e.constructHeaderMarkup(s,i),e.setExpanded(e.isExpanded(t),t),s.addEventListener("click",e.onSectionToggle.bind(e,t)),e.setInitialState(t))}))},l.prototype.constructHeaderMarkup=function(e,t){var i=e.querySelector("."+this.sectionButtonClass),s=e.querySelector("."+this.sectionHeadingClass),n=e.querySelector("."+this.sectionSummaryClass);if(i&&s){var o=document.createElement("button");o.setAttribute("type","button"),o.setAttribute("aria-controls",this.$module.id+"-content-"+(t+1).toString());for(var r=0;r<i.attributes.length;r++){var a=i.attributes.item(r);"id"!==a.nodeName&&o.setAttribute(a.nodeName,a.nodeValue)}var l=document.createElement("span");l.classList.add(this.sectionHeadingTextClass),l.id=i.id;var d=document.createElement("span");d.classList.add(this.sectionHeadingTextFocusClass),l.appendChild(d),d.innerHTML=i.innerHTML;var c=document.createElement("span");c.classList.add(this.sectionShowHideToggleClass),c.setAttribute("data-nosnippet","");var u=document.createElement("span");u.classList.add(this.sectionShowHideToggleFocusClass),c.appendChild(u);var h=document.createElement("span"),p=document.createElement("span");if(p.classList.add(this.upChevronIconClass),u.appendChild(p),h.classList.add(this.sectionShowHideTextClass),u.appendChild(h),o.appendChild(l),o.appendChild(this.getButtonPunctuationEl()),n){var m=document.createElement("span"),b=document.createElement("span");b.classList.add(this.sectionSummaryFocusClass),m.appendChild(b);for(var f=0,v=n.attributes.length;f<v;++f){var k=n.attributes.item(f).nodeName,y=n.attributes.item(f).nodeValue;m.setAttribute(k,y)}b.innerHTML=n.innerHTML,n.parentNode.replaceChild(m,n),o.appendChild(m),o.appendChild(this.getButtonPunctuationEl())}o.appendChild(c),s.removeChild(i),s.appendChild(o)}},l.prototype.onBeforeMatch=function(e){var t=e.target;if(t instanceof Element){var i=t.closest("."+this.sectionClass);i&&this.setExpanded(!0,i)}},l.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e),this.storeState(e)},l.prototype.onShowOrHideAllToggle=function(){var e=this,t=this.$sections,i=!this.checkIfAllSectionsOpen();t.forEach((function(t){e.setExpanded(i,t),e.storeState(t)})),e.updateShowAllButton(i)},l.prototype.setExpanded=function(e,t){var i=t.querySelector("."+this.upChevronIconClass),s=t.querySelector("."+this.sectionShowHideTextClass),n=t.querySelector("."+this.sectionButtonClass),o=t.querySelector("."+this.sectionContentClass);if(i&&s instanceof HTMLElement&&n&&o){var r=e?this.i18n.t("hideSection"):this.i18n.t("showSection");s.innerText=r,n.setAttribute("aria-expanded",e.toString());var a=[],l=t.querySelector("."+this.sectionHeadingTextClass);l instanceof HTMLElement&&a.push(l.innerText.trim());var d=t.querySelector("."+this.sectionSummaryClass);d instanceof HTMLElement&&a.push(d.innerText.trim());var c=e?this.i18n.t("hideSectionAriaLabel"):this.i18n.t("showSectionAriaLabel");a.push(c),n.setAttribute("aria-label",a.join(" , ")),e?(o.removeAttribute("hidden"),t.classList.add(this.sectionExpandedClass),i.classList.remove(this.downChevronIconClass)):(o.setAttribute("hidden","until-found"),t.classList.remove(this.sectionExpandedClass),i.classList.add(this.downChevronIconClass));var u=this.checkIfAllSectionsOpen();this.updateShowAllButton(u)}},l.prototype.isExpanded=function(e){return e.classList.contains(this.sectionExpandedClass)},l.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},l.prototype.updateShowAllButton=function(e){var t=e?this.i18n.t("hideAllSections"):this.i18n.t("showAllSections");this.$showAllButton.setAttribute("aria-expanded",e.toString()),this.$showAllText.innerText=t,e?this.$showAllIcon.classList.remove(this.downChevronIconClass):this.$showAllIcon.classList.add(this.downChevronIconClass)};var d={checkForSessionStorage:function(){var e,t="this is the test string";try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch(i){return!1}}};l.prototype.storeState=function(e){if(this.browserSupportsSessionStorage&&this.config.rememberExpanded){var t=e.querySelector("."+this.sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=t.getAttribute("aria-expanded");i&&s&&window.sessionStorage.setItem(i,s)}}},l.prototype.setInitialState=function(e){if(this.browserSupportsSessionStorage&&this.config.rememberExpanded){var t=e.querySelector("."+this.sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=i?window.sessionStorage.getItem(i):null;null!==s&&this.setExpanded("true"===s,e)}}},l.prototype.getButtonPunctuationEl=function(){var e=document.createElement("span");return e.classList.add("govuk-visually-hidden",this.sectionHeadingDividerClass),e.innerHTML=", ",e};function c(e,i){if(!(e instanceof HTMLElement))return this;this.$module=e,this.debounceFormSubmitTimer=null;this.config=t({preventDoubleClick:!1},i||{},o(e.dataset))}c.prototype.init=function(){this.$module&&(this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce.bind(this)))},c.prototype.handleKeyDown=function(e){var t=e.target;32===e.keyCode&&t instanceof HTMLElement&&"button"===t.getAttribute("role")&&(e.preventDefault(),t.click())},c.prototype.debounce=function(e){if(this.config.preventDoubleClick)return this.debounceFormSubmitTimer?(e.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3))};var u={charactersUnderLimit:{one:"You have %{count} character remaining",other:"You have %{count} characters remaining"},charactersAtLimit:"You have 0 characters remaining",charactersOverLimit:{one:"You have %{count} character too many",other:"You have %{count} characters too many"},wordsUnderLimit:{one:"You have %{count} word remaining",other:"You have %{count} words remaining"},wordsAtLimit:"You have 0 words remaining",wordsOverLimit:{one:"You have %{count} word too many",other:"You have %{count} words too many"},textareaDescription:{other:""}};function h(e,s){if(!(e instanceof HTMLElement))return this;var n=e.querySelector(".govuk-js-character-count");if(!(n instanceof HTMLTextAreaElement||n instanceof HTMLInputElement))return this;var a,l,d,c={threshold:0,i18n:u},h=o(e.dataset),p={};if(("maxwords"in h||"maxlength"in h)&&(p={maxlength:void 0,maxwords:void 0}),this.config=t(c,s||{},p,h),this.i18n=new r(i(this.config,"i18n"),{locale:(a=e,l="lang",d=a.closest("["+l+"]"),d?d.getAttribute(l):null)}),this.maxLength=1/0,"maxwords"in this.config&&this.config.maxwords)this.maxLength=this.config.maxwords;else{if(!("maxlength"in this.config)||!this.config.maxlength)return;this.maxLength=this.config.maxlength}this.$module=e,this.$textarea=n,this.$visibleCountMessage=null,this.$screenReaderCountMessage=null,this.lastInputTimestamp=null,this.lastInputValue="",this.valueChecker=null}function p(e){if(!(e instanceof HTMLElement))return this;var t=e.querySelectorAll('input[type="checkbox"]');if(!t.length)return this;this.$module=e,this.$inputs=t}h.prototype.init=function(){if(this.$module&&this.$textarea){var e=this.$textarea,t=document.getElementById(e.id+"-info");if(t){t.innerText.match(/^\s*$/)&&(t.innerText=this.i18n.t("textareaDescription",{count:this.maxLength})),e.insertAdjacentElement("afterend",t);var i=document.createElement("div");i.className="govuk-character-count__sr-status govuk-visually-hidden",i.setAttribute("aria-live","polite"),this.$screenReaderCountMessage=i,t.insertAdjacentElement("afterend",i);var s=document.createElement("div");s.className=t.className,s.classList.add("govuk-character-count__status"),s.setAttribute("aria-hidden","true"),this.$visibleCountMessage=s,t.insertAdjacentElement("afterend",s),t.classList.add("govuk-visually-hidden"),e.removeAttribute("maxlength"),this.bindChangeEvents(),window.addEventListener("onpageshow"in window?"pageshow":"DOMContentLoaded",this.updateCountMessage.bind(this)),this.updateCountMessage()}}},h.prototype.bindChangeEvents=function(){var e=this.$textarea;e.addEventListener("keyup",this.handleKeyUp.bind(this)),e.addEventListener("focus",this.handleFocus.bind(this)),e.addEventListener("blur",this.handleBlur.bind(this))},h.prototype.handleKeyUp=function(){this.updateVisibleCountMessage(),this.lastInputTimestamp=Date.now()},h.prototype.handleFocus=function(){this.valueChecker=setInterval(function(){(!this.lastInputTimestamp||Date.now()-500>=this.lastInputTimestamp)&&this.updateIfValueChanged()}.bind(this),1e3)},h.prototype.handleBlur=function(){clearInterval(this.valueChecker)},h.prototype.updateIfValueChanged=function(){this.$textarea.value!==this.lastInputValue&&(this.lastInputValue=this.$textarea.value,this.updateCountMessage())},h.prototype.updateCountMessage=function(){this.updateVisibleCountMessage(),this.updateScreenReaderCountMessage()},h.prototype.updateVisibleCountMessage=function(){var e=this.$textarea,t=this.$visibleCountMessage,i=this.maxLength-this.count(e.value);this.isOverThreshold()?t.classList.remove("govuk-character-count__message--disabled"):t.classList.add("govuk-character-count__message--disabled"),i<0?(e.classList.add("govuk-textarea--error"),t.classList.remove("govuk-hint"),t.classList.add("govuk-error-message")):(e.classList.remove("govuk-textarea--error"),t.classList.remove("govuk-error-message"),t.classList.add("govuk-hint")),t.innerText=this.getCountMessage()},h.prototype.updateScreenReaderCountMessage=function(){var e=this.$screenReaderCountMessage;this.isOverThreshold()?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden","true"),e.innerText=this.getCountMessage()},h.prototype.count=function(e){return"maxwords"in this.config&&this.config.maxwords?(e.match(/\S+/g)||[]).length:e.length},h.prototype.getCountMessage=function(){var e=this.maxLength-this.count(this.$textarea.value),t="maxwords"in this.config&&this.config.maxwords?"words":"characters";return this.formatCountMessage(e,t)},h.prototype.formatCountMessage=function(e,t){if(0===e)return this.i18n.t(t+"AtLimit");var i=e<0?"OverLimit":"UnderLimit";return this.i18n.t(t+i,{count:Math.abs(e)})},h.prototype.isOverThreshold=function(){if(!this.config.threshold)return!0;var e=this.$textarea,t=this.count(e.value);return this.maxLength*this.config.threshold/100<=t},p.prototype.init=function(){if(this.$module&&this.$inputs){var e=this.$module;this.$inputs.forEach((function(e){var t=e.getAttribute("data-aria-controls");t&&document.getElementById(t)&&(e.setAttribute("aria-controls",t),e.removeAttribute("data-aria-controls"))})),window.addEventListener("onpageshow"in window?"pageshow":"DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),e.addEventListener("click",this.handleClick.bind(this))}},p.prototype.syncAllConditionalReveals=function(){this.$inputs.forEach(this.syncConditionalRevealWithInputState.bind(this))},p.prototype.syncConditionalRevealWithInputState=function(e){var t=e.getAttribute("aria-controls");if(t){var i=document.getElementById(t);if(i&&i.classList.contains("govuk-checkboxes__conditional")){var s=e.checked;e.setAttribute("aria-expanded",s.toString()),i.classList.toggle("govuk-checkboxes__conditional--hidden",!s)}}},p.prototype.unCheckAllInputsExcept=function(e){var t=this;document.querySelectorAll('input[type="checkbox"][name="'+e.name+'"]').forEach((function(i){e.form===i.form&&i!==e&&(i.checked=!1,t.syncConditionalRevealWithInputState(i))}))},p.prototype.unCheckExclusiveInputs=function(e){var t=this;document.querySelectorAll('input[data-behaviour="exclusive"][type="checkbox"][name="'+e.name+'"]').forEach((function(i){e.form===i.form&&(i.checked=!1,t.syncConditionalRevealWithInputState(i))}))},p.prototype.handleClick=function(e){var t=e.target;t instanceof HTMLInputElement&&"checkbox"===t.type&&(t.getAttribute("aria-controls")&&this.syncConditionalRevealWithInputState(t),t.checked&&("exclusive"===t.getAttribute("data-behaviour")?this.unCheckAllInputsExcept(t):this.unCheckExclusiveInputs(t)))};function m(e){if(!(e instanceof HTMLElement))return this;this.$module=e,this.$summary=null,this.$content=null}function b(e,i){if(!(e instanceof HTMLElement))return this;this.$module=e;this.config=t({disableAutoFocus:!1},i||{},o(e.dataset))}function f(e){if(!(e instanceof HTMLElement))return this;this.$module=e,this.$menuButton=e.querySelector(".govuk-js-header-toggle"),this.$menu=this.$menuButton&&e.querySelector("#"+this.$menuButton.getAttribute("aria-controls")),this.menuIsOpen=!1,this.mql=null}function v(e){this.$module=e,this.moduleId=e.getAttribute("id"),this.$sections=e.querySelectorAll(".govuk-accordion__section"),this.browserSupportsSessionStorage=k.checkForSessionStorage(),this.controlsClass="govuk-accordion__controls",this.openAllClass="govuk-accordion__open-all",this.iconClass="govuk-accordion__icon",this.sectionHeaderClass="govuk-accordion__section-header",this.sectionHeaderFocusedClass="govuk-accordion__section-header--focused",this.sectionHeadingClass="govuk-accordion__section-heading",this.sectionSummaryClass="govuk-accordion__section-summary",this.sectionButtonClass="govuk-accordion__section-button",this.sectionExpandedClass="govuk-accordion__section--expanded",this.$openAllButton=e.querySelector(".govuk-accordion__open-all"),this.$sectionSpan=e.querySelector(".govuk-accordion__controls-span"),this.openTitle=this.$openAllButton.dataset.openTitle,this.closeTitle=this.$openAllButton.dataset.closeTitle,this.sectionTitle=this.$sectionSpan.dataset.sectionTitle}m.prototype.init=function(){this.$module&&("HTMLDetailsElement"in window&&this.$module instanceof HTMLDetailsElement||this.polyfillDetails())},m.prototype.polyfillDetails=function(){var e,t=this.$module,i=this.$summary=t.getElementsByTagName("summary").item(0),s=this.$content=t.getElementsByTagName("div").item(0);i&&s&&(s.id||(s.id="details-content-"+(e=(new Date).getTime(),void 0!==window.performance&&"function"==typeof window.performance.now&&(e+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?i:3&i|8).toString(16)})))),t.setAttribute("role","group"),i.setAttribute("role","button"),i.setAttribute("aria-controls",s.id),i.tabIndex=0,this.$module.hasAttribute("open")?i.setAttribute("aria-expanded","true"):(i.setAttribute("aria-expanded","false"),s.style.display="none"),this.polyfillHandleInputs(this.polyfillSetAttributes.bind(this)))},m.prototype.polyfillSetAttributes=function(){return this.$module.hasAttribute("open")?(this.$module.removeAttribute("open"),this.$summary.setAttribute("aria-expanded","false"),this.$content.style.display="none"):(this.$module.setAttribute("open","open"),this.$summary.setAttribute("aria-expanded","true"),this.$content.style.display=""),!0},m.prototype.polyfillHandleInputs=function(e){this.$summary.addEventListener("keypress",(function(t){var i=t.target;13!==t.keyCode&&32!==t.keyCode||i instanceof HTMLElement&&"summary"===i.nodeName.toLowerCase()&&(t.preventDefault(),i.click?i.click():e(t))})),this.$summary.addEventListener("keyup",(function(e){var t=e.target;32===e.keyCode&&t instanceof HTMLElement&&"summary"===t.nodeName.toLowerCase()&&e.preventDefault()})),this.$summary.addEventListener("click",e)},b.prototype.init=function(){if(this.$module){var e=this.$module;this.setFocus(),e.addEventListener("click",this.handleClick.bind(this))}},b.prototype.setFocus=function(){var e=this.$module;this.config.disableAutoFocus||(e.setAttribute("tabindex","-1"),e.addEventListener("blur",(function(){e.removeAttribute("tabindex")})),e.focus())},b.prototype.handleClick=function(e){var t=e.target;this.focusTarget(t)&&e.preventDefault()},b.prototype.focusTarget=function(e){if(!(e instanceof HTMLAnchorElement))return!1;var t=this.getFragmentFromUrl(e.href);if(!t)return!1;var i=document.getElementById(t);if(!i)return!1;var s=this.getAssociatedLegendOrLabel(i);return!!s&&(s.scrollIntoView(),i.focus({preventScroll:!0}),!0)},b.prototype.getFragmentFromUrl=function(e){if(-1!==e.indexOf("#"))return e.split("#").pop()},b.prototype.getAssociatedLegendOrLabel=function(e){var t=e.closest("fieldset");if(t){var i=t.getElementsByTagName("legend");if(i.length){var s=i[0];if(e instanceof HTMLInputElement&&("checkbox"===e.type||"radio"===e.type))return s;var n=s.getBoundingClientRect().top,o=e.getBoundingClientRect();if(o.height&&window.innerHeight)if(o.top+o.height-n<window.innerHeight/2)return s}}return document.querySelector("label[for='"+e.getAttribute("id")+"']")||e.closest("label")},f.prototype.init=function(){this.$module&&this.$menuButton&&this.$menu&&("matchMedia"in window?(this.mql=window.matchMedia("(min-width: 48.0625em)"),"addEventListener"in this.mql?this.mql.addEventListener("change",this.syncState.bind(this)):this.mql.addListener(this.syncState.bind(this)),this.syncState(),this.$menuButton.addEventListener("click",this.handleMenuButtonClick.bind(this))):this.$menuButton.setAttribute("hidden",""))},f.prototype.syncState=function(){this.mql.matches?(this.$menu.removeAttribute("hidden"),this.$menuButton.setAttribute("hidden","")):(this.$menuButton.removeAttribute("hidden"),this.$menuButton.setAttribute("aria-expanded",this.menuIsOpen.toString()),this.menuIsOpen?this.$menu.removeAttribute("hidden"):this.$menu.setAttribute("hidden",""))},f.prototype.handleMenuButtonClick=function(){this.menuIsOpen=!this.menuIsOpen,this.syncState()},v.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders();var e=this.checkIfAllSectionsOpen();this.updateOpenAllButton(e)}},v.prototype.initControls=function(){this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))},v.prototype.initSectionHeaders=function(){this.$sections.forEach(function(e,t){var i=e.querySelector("."+this.sectionHeaderClass);this.initHeaderAttributes(i,t),this.setExpanded(this.isExpanded(e),e),i.addEventListener("click",this.onSectionToggle.bind(this,e)),this.setInitialState(e)}.bind(this))},v.prototype.initHeaderAttributes=function(e,t){var i=this,s=e.querySelector("."+this.sectionButtonClass),n=e.querySelector("."+this.sectionHeadingClass),o=e.querySelector("."+this.sectionSummaryClass),r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("id",this.moduleId+"-heading-"+(t+1)),r.setAttribute("aria-controls",this.moduleId+"-content-"+(t+1));for(var a=0;a<s.attributes.length;a++){var l=s.attributes.item(a);r.setAttribute(l.nodeName,l.nodeValue)}r.addEventListener("focusin",(function(t){e.classList.contains(i.sectionHeaderFocusedClass)||(e.className+=" "+i.sectionHeaderFocusedClass)})),r.addEventListener("blur",(function(t){e.classList.remove(i.sectionHeaderFocusedClass)})),null!=o&&r.setAttribute("aria-describedby",this.moduleId+"-summary-"+(t+1)),r.innerHTML=s.innerHTML,n.removeChild(s),n.appendChild(r);var d=document.createElement("span");d.className=this.iconClass,d.setAttribute("aria-hidden","true"),n.appendChild(d)},v.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e),this.storeState(e)},v.prototype.onOpenOrCloseAllToggle=function(){var e=this,t=this.$sections,i=!this.checkIfAllSectionsOpen();t.forEach((function(t){e.setExpanded(i,t),e.storeState(t)})),e.updateOpenAllButton(i)},v.prototype.setExpanded=function(e,t){t.querySelector("."+this.sectionButtonClass).setAttribute("aria-expanded",e),e?t.classList.add(this.sectionExpandedClass):t.classList.remove(this.sectionExpandedClass);var i=this.checkIfAllSectionsOpen();this.updateOpenAllButton(i)},v.prototype.isExpanded=function(e){return e.classList.contains(this.sectionExpandedClass)},v.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.sectionExpandedClass).length},v.prototype.updateOpenAllButton=function(e){var t=e?this.closeTitle:this.openTitle;t+='<span class="govuk-visually-hidden section-span"> '+this.sectionTitle+"</span>",this.$openAllButton.setAttribute("aria-expanded",e),this.$openAllButton.innerHTML=t};var k={checkForSessionStorage:function(){var e,t="this is the test string";try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch(i){return"undefined"!=typeof console&&void 0!==console.log||console.log("Notice: sessionStorage not available."),!1}}};v.prototype.storeState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=t.getAttribute("aria-expanded");void 0!==i||"undefined"!=typeof console&&void 0!==console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==s||"undefined"!=typeof console&&void 0!==console.log||console.error(new Error("No aria expanded present in accordion section heading.")),i&&s&&window.sessionStorage.setItem(i,s)}}},v.prototype.setInitialState=function(e){if(this.browserSupportsSessionStorage){var t=e.querySelector("."+this.sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=i?window.sessionStorage.getItem(i):null;null!==s&&this.setExpanded("true"===s,e)}}};function y(e){this.$module=e,this.debounceFormSubmitTimer=null}function g(e){this.$module=e,this.$items=e.querySelectorAll(".idsk-crossroad-title")}function _(e){this.$module=e}function S(e){this.$module=e}function L(e){this.$module=e}function E(e){this.$module=e}function C(e){this.$module=e,this.$lastMenuElement="",this.$firstMenuElement=""}function w(e){this.$module=e}function A(e){this.$module=e}function x(e){this.$module=e,this.$currentData=null,this.$currentMode=""}function $(e){this.$module=e}function q(e){this.$module=e}function T(e){this.$module=e}function B(e){this.$module=e}function I(e){this.$module=e,this.$moduleId=e.getAttribute("id"),this.$sections=e.querySelectorAll(".idsk-stepper__section"),this.$links=e.querySelectorAll(".idsk-stepper__section-content .govuk-link"),this.$openAllButton={},this.$browserSupportsSessionStorage=M.checkForSessionStorage(),this.$controlsClass="idsk-stepper__controls",this.$openAllClass="idsk-stepper__open-all",this.$iconClass="idsk-stepper__icon",this.$sectionHeaderClass="idsk-stepper__section-header",this.$sectionHeaderFocusedClass="idsk-stepper__section-header--focused",this.$sectionHeadingClass="idsk-stepper__section-heading",this.$sectionSummaryClass="idsk-stepper__section-summary",this.$sectionButtonClass="idsk-stepper__section-button",this.$sectionExpandedClass="idsk-stepper__section--expanded"}y.prototype.handleKeyDown=function(e){var t=e.target;"button"===t.getAttribute("role")&&32===e.keyCode&&(e.preventDefault(),t.click())},y.prototype.debounce=function(e){if("true"===e.target.getAttribute("data-prevent-double-click"))return this.debounceFormSubmitTimer?(e.preventDefault(),!1):void(this.debounceFormSubmitTimer=setTimeout(function(){this.debounceFormSubmitTimer=null}.bind(this),1e3))},y.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown),this.$module.addEventListener("click",this.debounce)},g.prototype.init=function(){var e=this.$module,t=this.$items,i=e.querySelector("#idsk-crossroad__uncollapse-button");e&&t&&(i&&i.addEventListener("click",this.handleShowItems.bind(this)),t.forEach(function(e){e.addEventListener("click",this.handleItemClick.bind(this))}.bind(this)))},g.prototype.handleItemClick=function(e){e.target.setAttribute("aria-current","true")},g.prototype.setAriaLabel=function(e){e.forEach((function(e){e.classList.contains("idsk-crossroad__arria-hidden")?(e.setAttribute("aria-hidden","true"),s(e,"idsk-crossroad__arria-hidden")):"true"===e.getAttribute("aria-hidden")&&(e.setAttribute("aria-hidden","false"),s(e,"idsk-crossroad__arria-hidden"))}))},g.prototype.handleShowItems=function(e){var t=this.$module.querySelectorAll(".idsk-crossroad__item"),i=this.$module.querySelector("#idsk-crossroad__uncollapse-button"),n=this.$module.querySelector(".idsk-crossroad__uncollapse-div"),o=this.$module.querySelectorAll(".idsk-crossroad-title"),r=this.$module.querySelectorAll(".idsk-crossroad-subtitle"),a=this.$module.querySelector(".idsk-crossroad__colapse--button");t.forEach((function(e){s(e,"idsk-crossroad__item--two-columns-show")})),this.setAriaLabel(o),this.setAriaLabel(r),i.innerHTML=i.textContent===i.dataset.line1?i.dataset.line2:i.dataset.line1,s(e.srcElement,"idsk-crossroad__colapse--button-show"),s(n,"idsk-crossroad__collapse--shadow"),s(n,"idsk-crossroad__collapse--arrow"),a.classList.contains("idsk-crossroad__colapse--button-show")?(a.setAttribute("aria-expanded","true"),a.setAttribute("aria-label",a.getAttribute("data-text-for-show"))):(a.setAttribute("aria-expanded","false"),a.setAttribute("aria-label",a.getAttribute("data-text-for-hide")))},_.prototype.init=function(){var e=this.$module,t=e.querySelector("#idsk-customer-surveys__send-button"),i=e.querySelector("#idsk-customer-surveys__previous-button"),s=e.querySelector(".idsk-customer-surveys-text-area #first"),n=e.querySelector(".idsk-customer-surveys-text-area #second"),o=e.querySelector(".idsk-customer-surveys-text-area #third"),r=e.querySelector(".idsk-customer-surveys-text-area #fourth"),a=e.querySelector(".idsk-customer-survey__radio--work"),l=e.querySelector(".idsk-customer-survey__radio--private");e.sendButtonDisabled=new Array(7),e.textAreaMap=new Map,e&&(this.handleCounterOfSubtitles.call(this,7),this.enableNextButtonForAllSteps.call(this),a&&a.addEventListener("click",this.handleRadioButtonWorkClick.bind(this)),l&&l.addEventListener("click",this.handleRadioButtonPrivateClick.bind(this)),t&&t.addEventListener("click",this.handleNextButtonClick.bind(this)),i&&i.addEventListener("click",this.handlePreviousButtonClick.bind(this)),s&&(e.textAreaMap.set("first",1),s.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))),n&&(e.textAreaMap.set("second",2),n.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))),o&&(e.textAreaMap.set("third",4),o.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))),r&&(e.textAreaMap.set("fourth",5),r.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))))},_.prototype.enableNextButtonForAllSteps=function(e){for(var t=0;t<this.$module.sendButtonDisabled.length;t++)this.$module.sendButtonDisabled[t]=!1},_.prototype.handleStatusOfCharacterCountButton=function(e){var t=this.$module,i=e.srcElement.id,s=t.querySelector("#"+i),n=t.querySelector("#"+i+"-info"),o=t.querySelector("#idsk-customer-surveys__send-button");setTimeout((function(){s.classList.contains("govuk-textarea--error")||n.classList.contains("govuk-error-message")?o.disabled=!0:(o.disabled=!1,t.sendButtonDisabled[t.textAreaMap.get(i)]=!1)}),300)},_.prototype.handleCounterOfSubtitles=function(e){var t,i=this.$module.querySelectorAll(".idsk-customer-surveys--subtitle");for(t=0;t<e;t++)i[t].textContent=i[t].textContent.substring(3),i[t].innerHTML=t+1+". "+i[t].textContent},_.prototype.handleRadioButtonWorkClick=function(e){var t=this.$module.querySelector(".idsk-customer-survey__text-area--work");this.$module.querySelector(".idsk-customer-survey__subtitle--work").classList.add("idsk-customer-surveys--subtitle"),t.classList.remove("idsk-customer-surveys--hidden"),this.handleCounterOfSubtitles.call(this,8)},_.prototype.clearTextArea=function(e){var t=e.querySelector(".govuk-textarea"),i=e.querySelector(".govuk-character-count__message");t.value="",t.classList.contains("govuk-textarea--error")&&(t.classList.remove("govuk-textarea--error"),i.classList.remove("govuk-error-message"),i.classList.add("govuk-hint"),i.innerHTML=e.dataset.lines)},_.prototype.handleRadioButtonPrivateClick=function(e){var t=this.$module.querySelector(".idsk-customer-survey__text-area--work"),i=this.$module.querySelector(".idsk-customer-survey__subtitle--work");this.$module.querySelector("#idsk-customer-surveys__send-button").disabled=!1,i.classList.remove("idsk-customer-surveys--subtitle"),t.classList.add("idsk-customer-surveys--hidden"),this.clearTextArea.call(this,t),this.handleCounterOfSubtitles.call(this,7)},_.prototype.handlePreviousButtonClick=function(e){var t,i=this.$module,n=i.querySelectorAll(".idsk-customer-surveys__step"),o=i.querySelector("#idsk-customer-surveys__send-button"),r=i.querySelector("#idsk-customer-surveys__previous-button"),a=i.querySelectorAll(".idsk-button__start-icon"),l=i.querySelector(".idsk-customer-surveys__send-button");for(r.blur(),t=1;t<n.length-1;t++)if(r.textContent===r.dataset.line2&&n[1].classList.contains("idsk-customer-surveys--show")&&(r.innerHTML=r.dataset.line1,l.innerHTML=l.dataset.line1,s(a[0],"idsk-customer-surveys__icon--hidden"),r.onclick=function(){location.href="/"}),l.textContent.includes(l.dataset.line3)&&(l.innerHTML=l.dataset.line2,o.setAttribute("type","button"),s(a[0],"idsk-customer-surveys__icon--hidden")),n[t].classList.contains("idsk-customer-surveys--show"))return o.disabled&&(i.sendButtonDisabled[t]=!0,o.disabled=!1),n[t].classList.remove("idsk-customer-surveys--show"),s(n[t],"idsk-customer-surveys--hidden"),s(n[t-1],"idsk-customer-surveys--hidden"),void n[t-1].classList.add("idsk-customer-surveys--show")},_.prototype.handleNextButtonClick=function(e){var t=this.$module,i=t.querySelectorAll(".idsk-customer-surveys__step"),n=t.querySelector(".idsk-customer-surveys__buttons"),o=t.querySelector("#idsk-customer-surveys__send-button"),r=t.querySelector("#idsk-customer-surveys__previous-button"),a=t.querySelectorAll(".idsk-button__start-icon"),l=t.querySelector(".idsk-customer-surveys__send-button");if(o.blur(),l.textContent.includes(l.dataset.line1)){l.innerHTML=l.dataset.line2,s(a[0],"idsk-customer-surveys__icon--hidden"),this.handleRadioButtonPrivateClick.call(this);var d=t.querySelectorAll(".govuk-radios__input");for(let e=0;e<d.length;e++)d[e].checked=!1;var c=t.querySelectorAll(".idsk-customer-surveys-text-area");for(let e=0;e<c.length;e++)this.clearTextArea.call(this,c[e]);this.enableNextButtonForAllSteps.call(this)}l.textContent.includes(l.dataset.line3)&&n.classList.add("idsk-customer-surveys--hidden");for(let u=0;u<i.length-1;u++)if(i[u].classList.contains("idsk-customer-surveys--show"))return t.sendButtonDisabled[u+1]?o.disabled=!0:o.disabled=!1,i[u].classList.remove("idsk-customer-surveys--show"),s(i[u],"idsk-customer-surveys--hidden"),s(i[u+1],"idsk-customer-surveys--hidden"),i[u+1].classList.add("idsk-customer-surveys--show"),4===u&&(l.innerHTML=l.dataset.line3,setTimeout((function(){o.setAttribute("type","submit")}),500),s(a[0],"idsk-customer-surveys__icon--hidden")),void(0===u&&(r.innerHTML=r.dataset.line2,r.onclick=function(){location.href="#"}))},S.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector("#idsk-feedback__question-bar #feedback"),i=e.querySelector("#idsk-feedback__send-button"),s=e.querySelectorAll(".idsk-feedback__radio-button");if(s){var n=this;s.forEach((function(e){e.addEventListener("click",n.handleRadioButtonClick.bind(n))}))}i&&i.addEventListener("click",this.handleSendButtonClick.bind(this)),t&&t.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this))}},S.prototype.handleSendButtonClick=function(e){var t=this.$module.querySelector(".idsk-feedback__thanks");this.$module.querySelector(".idsk-feedback__content").classList.add("idsk-feedback--hidden"),t.classList.remove("idsk-feedback--hidden")},S.prototype.handleRadioButtonClick=function(e){var t=this.$module.querySelector("#idsk-feedback__question-bar");e.srcElement.classList.contains("idsk-feedback-textarea--show")?(t.classList.add("idsk-feedback--open"),t.classList.remove("idsk-feedback--invisible")):(t.classList.remove("idsk-feedback--open"),t.classList.add("idsk-feedback--invisible"))},S.prototype.handleStatusOfCharacterCountButton=function(e){var t=this.$module.querySelector("#feedback"),i=this.$module.querySelector("#feedback-info"),s=this.$module.querySelector("#idsk-feedback__send-button");setTimeout((function(){t.classList.contains("govuk-textarea--error")||i.classList.contains("govuk-error-message")?s.disabled=!0:s.disabled=!1}),300)},L.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector("#idsk-footer-extended-feedback-yes-button"),i=e.querySelector("#idsk-footer-extended-feedback-no-button"),s=e.querySelector("#idsk-footer-extended-error-button"),n=e.querySelector("#idsk-footer-extended-close-error-form-button"),o=e.querySelector("#idsk-footer-extended-close-help-form-button"),r=e.querySelector("#idsk-footer-extended-error-form #with-hint"),a=e.querySelector("#submit-button-error-form"),l=e.querySelector("#idsk-footer-extended-write-us-button"),d=e.querySelector("#footer-extended-up-button");t&&i&&(t.addEventListener("click",this.handleYesButtonClick.bind(this)),i.addEventListener("click",this.handleNoButtonClick.bind(this))),s&&s.addEventListener("click",this.handleErrorButtonClick.bind(this)),l&&l.addEventListener("click",this.handleErrorButtonClick.bind(this)),o&&o.addEventListener("click",this.handleCloseHelpFormButtonClick.bind(this)),n&&n.addEventListener("click",this.handleCloseErrorFormButtonClick.bind(this)),a&&a.addEventListener("click",this.handleSubmitButtonClick.bind(this)),r&&r.addEventListener("input",this.handleStatusOfCharacterCountButton.bind(this)),null!=d&&window.addEventListener("scroll",this.scrollFunction.bind(this))}},L.prototype.handleSubmitButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-help-form"),i=this.$module.querySelector("#idsk-footer-extended-error-form"),n=this.$module.querySelector("#idsk-footer-extended-info-question"),o=this.$module.querySelector("#idsk-footer-extended-heart"),r=this.$module.querySelector("#idsk-footer-extended-feedback");s(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),t.classList.add("idsk-footer-extended-display-hidden"),i.classList.add("idsk-footer-extended-display-hidden"),t.classList.remove("idsk-footer-extended-open"),i.classList.remove("idsk-footer-extended-open"),s(n,"idsk-footer-extended-heart"),s(o,"idsk-footer-extended-heart-visible"),s(r,"idsk-footer-extended-display-none");var a=this.$module.querySelector("#sort"),l=this.$module.querySelector("#with-hint"),d=this.$module.querySelector(".idsk-footer-extended__feedback-info"),c=a.value,u=l.value;if(d){var h=d.getAttribute("data-email"),p=d.getAttribute("data-subject"),m=d.textContent;m=m.replace("%issue%",c).replace("%description%",u),document.location="mailto:"+h+"?subject="+p+"&body="+m}},L.prototype.handleStatusOfCharacterCountButton=function(e){var t=this.$module.querySelector("#with-hint"),i=this.$module.querySelector("#with-hint-info"),s=this.$module.querySelector("#submit-button-error-form");setTimeout((function(){t.classList.contains("govuk-textarea--error")||i.classList.contains("govuk-error-message")?s.disabled=!0:s.disabled=!1}),300)},L.prototype.handleYesButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-help-form"),i=this.$module.querySelector("#idsk-footer-extended-error-form"),n=this.$module.querySelector("#idsk-footer-extended-info-question"),o=this.$module.querySelector("#idsk-footer-extended-heart");t.classList.add("idsk-footer-extended-display-hidden"),i.classList.add("idsk-footer-extended-display-hidden"),s(n,"idsk-footer-extended-heart"),s(o,"idsk-footer-extended-heart-visible"),o.setAttribute("aria-label","Ďakujeme za Vašu spätnú väzbu")},L.prototype.handleNoButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-help-form"),i=this.$module.querySelector("#idsk-footer-extended-feedback"),n=this.$module.querySelector(".idsk-footer-extended-form-text"),o=this.$module.querySelector("#fill-feedback-help-form");s(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),s(i,"idsk-footer-extended-display-none"),s(t,"idsk-footer-extended-display-hidden"),s(t,"idsk-footer-extended-open"),n.setAttribute("aria-label","Aby sme vedeli zlepšiť obsah na tejto stránke, chceli by sme vedieť o Vašej skúsenosti so stránkou. Pošleme Vám link na formulár spätnej väzby. Jeho vyplnenie Vám zaberie iba 2 minúty."),o.setAttribute("aria-label","Vyplniť prieskum")},L.prototype.handleErrorButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-error-form"),i=this.$module.querySelector("#idsk-footer-extended-help-form"),n=this.$module.querySelector("#idsk-footer-extended-feedback");s(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),s(n,"idsk-footer-extended-display-none"),i.classList.add("idsk-footer-extended-display-hidden"),i.classList.remove("idsk-footer-extended-open"),s(t,"idsk-footer-extended-display-hidden"),s(t,"idsk-footer-extended-open")},L.prototype.handleCloseErrorFormButtonClick=function(e){var t=this.$module.querySelector("#idsk-footer-extended-error-form"),i=this.$module.querySelector("#idsk-footer-extended-feedback");s(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),s(i,"idsk-footer-extended-display-none"),s(t,"idsk-footer-extended-open"),s(t,"idsk-footer-extended-display-hidden")},L.prototype.handleCloseHelpFormButtonClick=function(){var e=this.$module.querySelector("#idsk-footer-extended-help-form"),t=this.$module.querySelector("#idsk-footer-extended-feedback");s(this.$module.querySelector("#idsk-footer-extended-feedback-content"),"idsk-footer-extended-feedback-content"),s(t,"idsk-footer-extended-display-none"),s(e,"idsk-footer-extended-open"),s(e,"idsk-footer-extended-display-hidden")},L.prototype.scrollFunction=function(){var e=this.$module.querySelector("#footer-extended-up-button");window.innerWidth>768&&(document.body.scrollTop>window.screen.height||document.documentElement.scrollTop>window.screen.height)?e.style.display="block":e.style.display="none"},E.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector(".govuk-js-header-toggle");t&&t.addEventListener("click",this.handleClick.bind(this))}},E.prototype.toggleClass=function(e,t){e.className.indexOf(t)>0?e.className=e.className.replace(" "+t,""):e.className+=" "+t},E.prototype.handleClick=function(e){var t=this.$module,i=e.target||e.srcElement,n=t.querySelector("#"+i.getAttribute("aria-controls"));i&&n&&(s(n,"idsk-header__navigation--open"),s(i,"idsk-header__menu-button--open"),i.setAttribute("aria-expanded","true"!==i.getAttribute("aria-expanded")),n.setAttribute("aria-hidden",("false"===n.getAttribute("aria-hidden")).toString()))},C.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-header-extended__search");t&&t.forEach(function(e){e.addEventListener("change",this.handleSearchChange.bind(this)),e.dispatchEvent(new Event("change"))}.bind(this));var i=e.querySelectorAll(".idsk-header-extended__language-button");if(i)i.forEach(function(e){e.addEventListener("click",this.handleLanguageSwitcherClick.bind(this)),e.addEventListener("focus",this.handleLanguageSwitcherClick.bind(this))}.bind(this)),e.querySelectorAll(".idsk-header-extended__language-list-item:last-child .idsk-header-extended__language-list-link").forEach(function(e){e.addEventListener("blur",this.checkBlurLanguageSwitcherClick.bind(this))}.bind(this));var s=e.querySelectorAll(".idsk-header-extended__link");s&&s.forEach(function(e){e.addEventListener("click",this.handleSubmenuClick.bind(this)),e.addEventListener("focus",this.handleSubmenuClick.bind(this))}.bind(this));var n=e.querySelector(".idsk-js-header-extended-side-menu"),o=e.querySelector(".idsk-header-extended__mobile-close");if(n&&o&&(this.initMobileMenuTabbing(),n.addEventListener("click",this.showMobileMenu.bind(this)),o.addEventListener("click",this.hideMobileMenu.bind(this))),window.addEventListener("scroll",this.scrollFunction.bind(this)),e.boundCheckBlurMenuItemClick=this.checkBlurMenuItemClick.bind(this),e.boundCheckBlurLanguageSwitcherClick=this.checkBlurLanguageSwitcherClick.bind(this),!window.localStorage.getItem("acceptedCookieBanner")){e.classList.add("idsk-header-extended--cookie");var r=document.querySelector(".idsk-cookie-banner");if(r)window.addEventListener("scroll",(function(){var t=document.body.getBoundingClientRect().top,i=r.offsetHeight;t<-i?(e.classList.remove("idsk-header-extended--cookie"),e.style.top="0px"):(e.classList.add("idsk-header-extended--cookie"),e.style.top=i.toString()+"px")})),new ResizeObserver((function(){e.style.top=r.offsetHeight.toString()+"px"})).observe(r)}}},C.prototype.handleSearchChange=function(e){var t=e.target||e.srcElement,i=t.closest(".idsk-header-extended__search").querySelector("label");t.value?i.classList.add("idsk-header-extended__search-input--focus"):i.classList.remove("idsk-header-extended__search-input--focus")},C.prototype.handleLanguageSwitcherClick=function(e){var t=e.target||e.srcElement;this.$activeSearch=t.closest(".idsk-header-extended__language"),s(this.$activeSearch,"idsk-header-extended__language--active"),document.addEventListener("click",this.$module.boundCheckBlurLanguageSwitcherClick,!0)},C.prototype.checkBlurLanguageSwitcherClick=function(){this.$activeSearch.classList.remove("idsk-header-extended__language--active"),document.removeEventListener("click",this.$module.boundCheckBlurLanguageSwitcherClick,!0)},C.prototype.handleSubmenuClick=function(e){var t=(e.target||e.srcElement).closest(".idsk-header-extended__navigation-item"),i=this.$module.querySelectorAll(".idsk-header-extended__navigation-item--active");i.length>0&&i[0].classList.remove("idsk-header-extended__navigation-item--active"),s(t,"idsk-header-extended__navigation-item--active"),document.addEventListener("click",this.$module.boundCheckBlurMenuItemClick,!0)},C.prototype.checkBlurMenuItemClick=function(){this.$module.querySelectorAll(".idsk-header-extended__navigation-item--active")[0].classList.remove("idsk-header-extended__navigation-item--active"),document.removeEventListener("click",this.$module.boundCheckBlurMenuItemClick,!0)},C.prototype.showMobileMenu=function(e){var t=this.$module.querySelector(".idsk-js-header-extended-side-menu");this.$module.classList.add("idsk-header-extended--show-mobile-menu"),document.getElementsByTagName("body")[0].style.overflow="hidden",document.activeElement===t&&this.$lastMenuElement.focus()},C.prototype.hideMobileMenu=function(e){var t=this.$module.querySelector(".idsk-js-header-extended-side-menu");this.$module.classList.remove("idsk-header-extended--show-mobile-menu"),document.getElementsByTagName("body")[0].style.overflow="visible",t.focus()},C.prototype.initMobileMenuTabbing=function(){var e=this.$module.querySelectorAll(".idsk-header-extended__mobile")[0].querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])');this.$firstMenuElement=e[0],this.$lastMenuElement=e[e.length-1];document.addEventListener("keydown",function(e){("Tab"===e.key||9===e.keyCode)&&(e.shiftKey?document.activeElement===this.$firstMenuElement&&(this.$lastMenuElement.focus(),e.preventDefault()):document.activeElement===this.$lastMenuElement&&(this.$firstMenuElement.focus(),e.preventDefault()))}.bind(this))},C.prototype.scrollFunction=function(){var e=this.$module;document.body.scrollTop>80||document.documentElement.scrollTop>80?e.classList.add("idsk-header-extended--shrink"):document.body.scrollTop<10&&document.documentElement.scrollTop<10&&e.classList.remove("idsk-header-extended--shrink")},w.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector(".idsk-header-web__banner");this.$lastScrollTopPosition=0,t&&document.addEventListener("scroll",this.handleToggleBanner.bind(this));var i=e.querySelector(".idsk-header-web__banner-close");if(i&&i.addEventListener("click",this.handleCloseBanner.bind(this)),this.$languageBtn=e.querySelector(".idsk-header-web__brand-language-button"),this.$languageBtn)e.querySelector(".idsk-header-web__brand-language").addEventListener("keydown",this.languageEscPressed.bind(this)),this.$languageBtn.addEventListener("click",this.handleLanguageSwitcherClick.bind(this)),e.querySelectorAll(".idsk-header-web__brand-language-list-item:last-child .idsk-header-web__brand-language-list-item-link").forEach(function(e){e.addEventListener("blur",this.checkBlurLanguageSwitcherClick.bind(this))}.bind(this)),this.$languageBtn.addEventListener("keydown",this.handleBackTabbing.bind(this));e.boundCheckBlurLanguageSwitcherClick=this.checkBlurLanguageSwitcherClick.bind(this);var s=e.querySelectorAll(".idsk-header-web__brand-gestor-button");this.$eGovermentSpacer=e.querySelector(".idsk-header-web__brand-spacer"),s.length>0&&s.forEach(function(e){e.addEventListener("click",this.handleEgovermentClick.bind(this))}.bind(this));var n=e.querySelector(".idsk-header-web__nav-list"),o=e.querySelectorAll(".idsk-header-web__nav-list-item-link");o&&n&&(o.forEach(function(e){e.addEventListener("click",this.handleSubmenuClick.bind(this)),(e.parentElement.querySelector(".idsk-header-web__nav-submenu")||e.parentElement.querySelector(".idsk-header-web__nav-submenulite"))&&e.parentElement.lastElementChild.addEventListener("keydown",this.menuTabbing.bind(this))}.bind(this)),e.addEventListener("keydown",this.navEscPressed.bind(this))),this.$menuButton=e.querySelector(".idsk-header-web__main-headline-menu-button"),this.$menuButton&&(this.$menuButton.addEventListener("click",this.showMobileMenu.bind(this)),this.menuBtnText=this.$menuButton.innerText.trim(),this.initMobileMenuTabbing()),e.boundCheckBlurMenuItemClick=this.checkBlurMenuItemClick.bind(this)}},w.prototype.handleToggleBanner=function(e){if(!this.$module.querySelector(".idsk-header-web__nav--mobile"))return!1;var t=window.pageYOffset||document.scrollTop;t>this.$lastScrollTopPosition?this.$module.querySelector(".idsk-header-web__banner").classList.add("idsk-header-web__banner--scrolled"):t<this.$lastScrollTopPosition&&this.$module.querySelector(".idsk-header-web__banner").classList.remove("idsk-header-web__banner--scrolled"),this.$lastScrollTopPosition=window.pageYOffset||document.scrollTop},w.prototype.handleCloseBanner=function(e){(e.target||e.srcElement).closest(".idsk-header-web__banner").classList.add("idsk-header-web__banner--hide")},w.prototype.handleLanguageSwitcherClick=function(e){var t=e.target||e.srcElement;this.$activeSearch=t.closest(".idsk-header-web__brand-language"),s(this.$activeSearch,"idsk-header-web__brand-language--active"),this.$activeSearch.classList.contains("idsk-header-web__brand-language--active")?(this.$activeSearch.firstElementChild.setAttribute("aria-expanded","true"),this.$activeSearch.firstElementChild.setAttribute("aria-label",this.$activeSearch.firstElementChild.getAttribute("data-text-for-hide"))):(this.$activeSearch.firstElementChild.setAttribute("aria-expanded","false"),this.$activeSearch.firstElementChild.setAttribute("aria-label",this.$activeSearch.firstElementChild.getAttribute("data-text-for-show"))),document.addEventListener("click",this.$module.boundCheckBlurLanguageSwitcherClick,!0)},w.prototype.checkBlurLanguageSwitcherClick=function(e){e.target.classList.contains("idsk-header-web__brand-language-button")||(this.$activeSearch.classList.remove("idsk-header-web__brand-language--active"),this.$activeSearch.firstElementChild.setAttribute("aria-expanded","false"),this.$activeSearch.firstElementChild.setAttribute("aria-label",this.$activeSearch.firstElementChild.getAttribute("data-text-for-show")),document.removeEventListener("click",this.$module.boundCheckBlurLanguageSwitcherClick,!0))},w.prototype.handleBackTabbing=function(e){e.shiftKey&&9===e.keyCode&&(document.activeElement,this.$languageBtn)},w.prototype.languageEscPressed=function(e){"Escape"===e.key&&"true"===this.$languageBtn.getAttribute("aria-expanded")&&this.handleLanguageSwitcherClick(e)},w.prototype.handleEgovermentClick=function(e){var t=this.$module.querySelectorAll(".idsk-header-web__brand-gestor-button");s(this.$module.querySelector(".idsk-header-web__brand-dropdown"),"idsk-header-web__brand-dropdown--active"),s(this.$eGovermentSpacer,"idsk-header-web__brand-spacer--active"),t.forEach(function(e){s(e,"idsk-header-web__brand-gestor-button--active"),e.classList.contains("idsk-header-web__brand-gestor-button--active")?(e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label",e.getAttribute("data-text-for-hide"))):(e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label",e.getAttribute("data-text-for-show")))}.bind(this))},w.prototype.handleSubmenuClick=function(e){var t=(e.target||e.srcElement).closest(".idsk-header-web__nav-list-item"),i=this.$module.querySelector(".idsk-header-web__nav-list-item--active");i&&i.isEqualNode(t)?(i.classList.remove("idsk-header-web__nav-list-item--active"),t.childNodes[3]&&(i.childNodes[1].setAttribute("aria-expanded","false"),t.childNodes[1].setAttribute("aria-label",t.childNodes[1].getAttribute("data-text-for-show")))):(i&&i.classList.remove("idsk-header-web__nav-list-item--active"),s(t,"idsk-header-web__nav-list-item--active"),t.childNodes[3]&&t.classList.contains("idsk-header-web__nav-list-item--active")&&(t.childNodes[1].setAttribute("aria-expanded","true"),t.childNodes[1].setAttribute("aria-label",t.childNodes[1].getAttribute("data-text-for-hide")),window.screen.width<=768&&t.scrollIntoView({behavior:"smooth"}))),document.addEventListener("click",this.$module.boundCheckBlurMenuItemClick.bind(this),!0)},w.prototype.menuTabbing=function(e){if("Tab"===e.key||9===e.keyCode){var t=e.srcElement.parentElement.parentElement,i=t.closest(".idsk-header-web__nav-list-item");e.shiftKey?document.activeElement===t.firstElementChild.firstElementChild&&(i.classList.remove("idsk-header-web__nav-list-item--active"),i.childNodes[1].setAttribute("aria-expanded","false"),i.childNodes[1].setAttribute("aria-label",i.childNodes[1].getAttribute("data-text-for-show"))):document.activeElement===t.lastElementChild.lastElementChild&&(i.classList.remove("idsk-header-web__nav-list-item--active"),i.childNodes[1].setAttribute("aria-expanded","false"),i.childNodes[1].setAttribute("aria-label",i.childNodes[1].getAttribute("data-text-for-show")))}},w.prototype.navEscPressed=function(e){if("Escape"===e.key){var t=e.srcElement.parentElement.parentElement;(t.classList.contains("idsk-header-web__nav-submenulite-list")||t.classList.contains("idsk-header-web__nav-submenu-list"))&&(t=t.closest(".idsk-header-web__nav-list"));var i=t.querySelector(".idsk-header-web__nav-list-item--active");i?(i.classList.remove("idsk-header-web__nav-list-item--active"),i.childNodes[1].setAttribute("aria-expanded","false"),i.childNodes[1].setAttribute("aria-label",i.childNodes[1].getAttribute("data-text-for-show")),i.childNodes[1].focus()):"true"===this.$menuButton.getAttribute("aria-expanded")&&this.showMobileMenu()}},w.prototype.checkBlurMenuItemClick=function(e){var t=this.$module.querySelector(".idsk-header-web__nav-list-item--active");t&&!e.target.classList.contains("idsk-header-web__nav-list-item-link")&&(t.classList.remove("idsk-header-web__nav-list-item--active"),t.childNodes[3]&&(t.childNodes[1].setAttribute("aria-expanded","false"),t.childNodes[1].setAttribute("aria-label",t.childNodes[1].getAttribute("data-text-for-show"))),document.removeEventListener("click",this.$module.boundCheckBlurMenuItemClick,!0))},w.prototype.showMobileMenu=function(){var e=this.menuBtnText?"Zavrieť":"";s(this.$module.querySelector(".idsk-header-web__nav"),"idsk-header-web__nav--mobile"),s(this.$menuButton,"idsk-header-web__main-headline-menu-button--active"),this.$menuButton.classList.contains("idsk-header-web__main-headline-menu-button--active")?(this.$menuButton.setAttribute("aria-expanded","true"),this.$menuButton.setAttribute("aria-label",this.$menuButton.getAttribute("data-text-for-hide"))):(this.$menuButton.setAttribute("aria-expanded","false"),this.$menuButton.setAttribute("aria-label",this.$menuButton.getAttribute("data-text-for-show")));var t=this.$menuButton.classList.contains("idsk-header-web__main-headline-menu-button--active");this.$menuButton.childNodes[0].nodeValue=t?e:this.menuBtnText},w.prototype.initMobileMenuTabbing=function(){var e=this.$module.querySelector(".idsk-header-web__nav"),t=Array.from(e.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])')).filter((function(e){return"none"!==window.getComputedStyle(e).getPropertyValue("display")})),i=this.$menuButton,s=t[t.length-1];i.addEventListener("keydown",(function(e){("Tab"===e.key||9===e.keyCode)&&e.shiftKey&&"true"===e.target.getAttribute("aria-expanded")&&(s.focus(),e.preventDefault())})),s.addEventListener("keydown",(function(e){("Tab"===e.key||9===e.keyCode)&&!e.shiftKey&&null!==i.offsetParent&&(i.focus(),e.preventDefault())}))},A.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-in-page-navigation__link");if(t){this.$arrTitlesAndElems=[],t.forEach(function(e){var t={};t.el=document.getElementById(e.href.split("#")[1]),this.$arrTitlesAndElems.push(t),e.addEventListener("click",this.handleClickLink.bind(this))}.bind(this));var i=e.querySelector(".idsk-in-page-navigation__link-panel");i&&(e.boundCheckCloseClick=this.checkCloseClick.bind(this),e.boundHandleClickLinkPanel=this.handleClickLinkPanel.bind(this),i.addEventListener("click",e.boundHandleClickLinkPanel,!0),window.addEventListener("scroll",this.scrollFunction.bind(this)),this.$module.labelChanged=!1)}}},A.prototype.handleClickLink=function(e){var t=e.target||e.srcElement,i=t.closest(".idsk-in-page-navigation__link").href.split("#")[1],s=this.$module.getElementsByClassName("idsk-in-page-navigation__link-panel")[0].offsetHeight;setTimeout(function(){null!=document.getElementById(i)?(this.$module.labelChanged=!0,this.changeCurrentLink(t),window.scrollTo(0,document.getElementById(i).offsetTop-2.5*s)):this.changeCurrentLink(t)}.bind(this),10)},A.prototype.handleClickLinkPanel=function(e){var t=this.$module,i=t.querySelector(".idsk-in-page-navigation__link-panel"),s=t.querySelector(".idsk-in-page-navigation__link-panel-button");t.classList.add("idsk-in-page-navigation--expand"),i.removeEventListener("click",t.boundHandleClickLinkPanel,!0),s.setAttribute("aria-expanded","true"),s.setAttribute("aria-label",s.getAttribute("data-text-for-show")),document.addEventListener("click",t.boundCheckCloseClick,!0)},A.prototype.checkCloseClick=function(e){var t=(e.target||e.srcElement).closest(".idsk-in-page-navigation__list"),i=this.$module,s=i.querySelector(".idsk-in-page-navigation__link-panel"),n=i.querySelector(".idsk-in-page-navigation__link-panel-button");null==t&&(e.stopPropagation(),i.classList.remove("idsk-in-page-navigation--expand"),s.addEventListener("click",i.boundHandleClickLinkPanel,!0),document.removeEventListener("click",i.boundCheckCloseClick,!0),n.setAttribute("aria-expanded","false"),n.setAttribute("aria-label",n.getAttribute("data-text-for-hide")))},A.prototype.scrollFunction=function(){var e=this.$module,t=this.$arrTitlesAndElems,i=e.parentElement.offsetTop-55,s=e.querySelectorAll(".idsk-in-page-navigation__list-item");if(window.pageYOffset<=i?e.classList.remove("idsk-in-page-navigation--sticky"):e.classList.add("idsk-in-page-navigation--sticky"),this.$module.labelChanged)this.$module.labelChanged=!1;else if(e.classList.contains("idsk-in-page-navigation--sticky")){var n=this;t.some((function(e,t){return e.el.offsetTop>=window.scrollY&&e.el.offsetTop<=window.scrollY+window.innerHeight&&(n.changeCurrentLink(s[t]),!0)}))}else this.changeCurrentLink(s[0])},A.prototype.changeCurrentLink=function(e){var t=this.$module,i=e.closest(".idsk-in-page-navigation__list-item"),s=i.querySelector(".idsk-in-page-navigation__link-title"),n=t.querySelectorAll(".idsk-in-page-navigation__list-item"),o=t.querySelector(".idsk-in-page-navigation__link-panel-button");n.forEach((function(e){e.classList.remove("idsk-in-page-navigation__list-item--active")})),i.classList.add("idsk-in-page-navigation__list-item--active"),o.innerText=s.innerText,i.scrollIntoView({block:"nearest",inline:"nearest"})},x.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector(".idsk-intereactive-map__radio-map");t&&t.addEventListener("click",this.handleRadioButtonModeClick.bind(this,"map"));var i=e.querySelector(".idsk-intereactive-map__radio-table");i&&i.addEventListener("click",this.handleRadioButtonModeClick.bind(this,"table"));var s=e.querySelector(".idsk-interactive-map__select-time-period");s&&s.addEventListener("change",this.renderData.bind(this));var n=e.querySelector(".idsk-interactive-map__select-indicator");n&&n.addEventListener("change",this.renderData.bind(this));var o=e.querySelector(".govuk-radios__input").getAttribute("name"),r=e.querySelector('input[name="'+o+'"]:checked').value;this.handleRadioButtonModeClick(r),this.renderData()}},x.prototype.handleRadioButtonModeClick=function(e){var t=e,i=this.$module;this.$currentMode!==t&&(this.$currentMode=t,"table"===t?(i.querySelector(".idsk-interactive-map__table").style.display="block",i.querySelector(".idsk-interactive-map__map").style.display="none"):"map"===t&&(i.querySelector(".idsk-interactive-map__map").style.display="block",i.querySelector(".idsk-interactive-map__table").style.display="none",i.querySelector(".idsk-interactive-map__map-iframe").src+=""))},x.prototype.renderData=function(){var e=this.$module,t=e.querySelector(".idsk-interactive-map__table-iframe"),i=t.dataset.src,s=e.querySelector(".idsk-interactive-map__map-iframe"),n=s.dataset.src,o=e.querySelector(".idsk-interactive-map__select-time-period"),r=o.options[o.selectedIndex].value,a=o.options[o.selectedIndex].text,l=e.querySelector(".idsk-interactive-map__select-indicator");if(l){var d=l.options[l.selectedIndex].value,c=l.options[l.selectedIndex].text;e.querySelector(".idsk-interactive-map__current-indicator").innerText=c,e.querySelector(".idsk-interactive-map__current-time-period").innerText=a}s.src=n+"?indicator="+d+"&time="+r,t.src=i+"?indicator="+d+"&time="+r},$.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-registration-for-event-js-submit");t&&t.forEach(function(e){e.addEventListener("click",this.handleSubmitClick.bind(this))}.bind(this))}},$.prototype.handleSubmitClick=function(e){e.preventDefault();var t=this.$module,i=t.querySelector(".idsk-registration-for-event__form"),s=t.querySelector(".idsk-registration-for-event__thank-you-msg"),n=t.querySelectorAll("[required]"),o=!0,r=/\S+@\S+\.\S+/;n.forEach((function(e){var t=e.closest(".govuk-form-group");!e.checkValidity()||"email"===e.type&&!r.test(e.value)?(t.querySelector(".govuk-error-message").style.display="block",t.classList.add("govuk-form-group--error"),e.classList.add("govuk-input--error"),o=!1):(t.querySelector(".govuk-error-message").style.display="none",t.classList.remove("govuk-form-group--error"),e.classList.remove("govuk-input--error"))})),o&&(s.style.display="block",i.style.display="none")},q.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-search-component__input");t&&t.forEach(function(e){e.addEventListener("change",this.handleSearchInput.bind(this))}.bind(this))}},q.prototype.handleSearchInput=function(e){var t=e.target||e.srcElement||e,i=t.closest(".idsk-search-component").querySelector("label");""===t.value?i.classList.remove("govuk-visually-hidden"):i.classList.add("govuk-visually-hidden")},T.prototype.init=function(){if(this.$module){var e=this.$module;if(e.resultCards=[],e.countOfCardsPerPage=Number(),e.currentPageNumber=Number(),e.subTopicButton=e.querySelector(".idsk-search-results__subtopic"),e.subTopicButton&&(e.subTopicButton.disabled=!0),e.querySelectorAll(".idsk-search-results__link")){var t=e.querySelector(".idsk-search-results__content .govuk-select");if(t){var i=e.querySelector(".idsk-search-results__button--back");if(i){var s=e.querySelector(".idsk-search-results__button--forward");if(s){var n=e.querySelector(".idsk-search-results__button--back__mobile");if(i){var o=e.querySelector(".idsk-search-results__button--forward__mobile");if(s&&(e.resultCards=e.querySelectorAll(".idsk-search-results__card"),e.resultCards)){var r=e.querySelectorAll(".idsk-search-results__link-panel-button");if(r){var a=e.querySelector(".idsk-search-results__filters__button");if(a){var l=e.querySelector(".idsk-search-results__button--turn-filters-off");if(l){var d=e.querySelector(".idsk-search-results__button-show-results");if(d){var c=e.querySelector(".idsk-search-results__button--back-to-results");if(c){var u=e.querySelectorAll(".idsk-search-results__filter .govuk-radios__input ");if(u){var h=e.querySelectorAll(".idsk-search-results__filter .govuk-checkboxes__input ");if(h){var p=e.querySelector("#datum-od"),m=e.querySelector("#datum-do"),b=e.querySelector("#idsk-search-input__topic");b&&b.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"radios"));var f=e.querySelector("#idsk-search-input__subtopic");f&&f.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"radios"));var v=e.querySelector("#idsk-search-input__content-type");v&&v.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"checkboxes")),p&&(p.addEventListener("focusout",this.handleFillDate.bind(this,"from")),""!==p.value&&this.handleFillDate.call(this,"from",p),m.addEventListener("focusout",this.handleFillDate.bind(this,"to")),""!==m.value&&this.handleFillDate.call(this,"to",m)),i.addEventListener("click",this.handleClickPreviousPage.bind(this)),s.addEventListener("click",this.handleClickNextPage.bind(this)),n.addEventListener("click",this.handleClickPreviousPage.bind(this)),o.addEventListener("click",this.handleClickNextPage.bind(this)),a.addEventListener("click",this.handleClickFiltersButton.bind(this)),l.addEventListener("click",this.handleClickTurnFiltersOffButton.bind(this)),d.addEventListener("click",this.handleClickShowResultsButton.bind(this)),c.addEventListener("click",this.handleClickShowResultsButton.bind(this)),e.boundHandleClickLinkPanel=this.handleClickLinkPanel.bind(this),e.countOfCardsPerPage=t.value,e.currentPageNumber=1,this.showResultCardsPerPage.call(this,0,t.value),t.addEventListener("change",this.handleClickResultsPerPageDropdown.bind(this)),a.innerText=a.title+"(0)",r.forEach(function(t){t.addEventListener("click",e.boundHandleClickLinkPanel,!0)}.bind(this)),u.forEach(function(e){e.addEventListener("click",this.handleClickRadioButton.bind(this),!0),e.checked&&this.handleClickRadioButton.call(this,e)}.bind(this)),h.forEach(function(e){e.addEventListener("click",this.handleClickContentTypeCheckBox.bind(this),!0),e.checked&&this.handleClickContentTypeCheckBox.call(this,e)}.bind(this)),this.handleClickFiltersButton.call(this),this.handleClickShowResultsButton.call(this)}}}}}}}}}}}}}}},T.prototype.handleClickShowResultsButton=function(e){var t=this.$module,i=t.querySelector(".idsk-search-results__filter"),s=t.querySelector(".idsk-search-results .idsk-search-results__search-bar"),n=t.querySelector(".idsk-search-results .idsk-intro-block__search__span"),o=t.querySelector(".idsk-search-results--order__dropdown"),r=t.querySelector(".idsk-search-results__filter-panel--mobile"),a=t.querySelector(".idsk-search-results--order"),l=t.querySelector(".idsk-search-results__page-number--mobile"),d=t.querySelector(".idsk-search-results__content__page-changer"),c=t.querySelector(".idsk-search-results__content__all"),u=t.querySelector(".idsk-search-results__filter-header-panel"),h=t.querySelector(".idsk-search-results__content__picked-filters"),p=t.querySelector(".idsk-search-results__show-results__button"),m=t.querySelector(".idsk-search-results__content"),b=t.querySelector(".idsk-search-results__title"),f=document.getElementsByTagName("header"),v=document.getElementsByTagName("footer"),k=document.getElementsByClassName("govuk-breadcrumbs");b.classList.remove("idsk-search-results--invisible__mobile"),m.classList.remove("idsk-search-results--invisible__mobile"),p.classList.add("idsk-search-results--invisible"),h.classList.add("idsk-search-results--invisible__mobile"),i.classList.remove("idsk-search-results--visible"),u.classList.remove("idsk-search-results--visible__mobile--inline"),c.classList.remove("idsk-search-results--invisible__mobile"),l.classList.remove("idsk-search-results--invisible"),d.classList.remove("idsk-search-results--invisible__mobile"),s.classList.remove("idsk-search-results--invisible__mobile"),n&&n.classList.remove("idsk-search-results--invisible__mobile"),o.classList.remove("idsk-search-results--invisible__mobile"),r.classList.remove("idsk-search-results--invisible__mobile"),a.classList.remove("idsk-search-results--invisible"),f[0]&&v[0]&&k[0]&&(f[0].classList.remove("idsk-search-results--invisible__mobile"),v[0].classList.remove("idsk-search-results--invisible__mobile"),k[0].classList.remove("idsk-search-results--invisible__mobile"))},T.prototype.handleSomeFilterPicked=function(e){var t=this.$module,i=t.querySelector(".idsk-search-results__content"),s=t.querySelectorAll(".idsk-search-results__picked-topic"),n=t.querySelectorAll(".idsk-search-results__picked-content-type"),o=t.querySelectorAll(".idsk-search-results__picked-date"),r=s.length>0||n.length>0||o.length>0;return r?i.classList.remove("idsk-search-results--invisible__mobile"):i.classList.add("idsk-search-results--invisible__mobile"),r},T.prototype.handleCountForFiltersButton=function(e){var t=this.$module,i=t.querySelectorAll(".idsk-search-results__picked-topic"),s=t.querySelectorAll(".idsk-search-results__picked-content-type"),n=t.querySelectorAll(".idsk-search-results__picked-date"),o=t.querySelector(".idsk-search-results__filters__button"),r=i.length+s.length+n.length;o.innerText=o.title+"("+r+")"},T.prototype.handleClickTurnFiltersOffButton=function(e){var t=this.$module,i=t.querySelector(".idsk-search-results__content"),s=t.querySelectorAll(".idsk-search-results__picked-topic"),n=t.querySelectorAll(".idsk-search-results__picked-content-type"),o=t.querySelectorAll(".idsk-search-results__picked-date"),r=t.querySelector(".idsk-search-results__filters__button");i.classList.add("idsk-search-results--invisible__mobile"),r.innerText=r.title+"(0)",s.forEach(function(e){this.handleRemovePickedTopic.call(this,e)}.bind(this)),n.forEach(function(e){this.handleRemovePickedContentType.call(this,e)}.bind(this)),o.forEach(function(e){this.handleRemovePickedDate.call(this,e)}.bind(this))},T.prototype.handleClickFiltersButton=function(e){var t=this.$module,i=t.querySelector(".idsk-search-results__filter"),s=t.querySelector(".idsk-search-results .idsk-search-results__search-bar"),n=t.querySelector(".idsk-search-results .idsk-intro-block__search__span"),o=t.querySelector(".idsk-search-results--order__dropdown"),r=t.querySelector(".idsk-search-results__filter-panel--mobile"),a=t.querySelector(".idsk-search-results--order"),l=t.querySelector(".idsk-search-results__page-number--mobile"),d=t.querySelector(".idsk-search-results__content__page-changer"),c=t.querySelector(".idsk-search-results__content__all"),u=t.querySelector(".idsk-search-results__filter-header-panel"),h=t.querySelector(".idsk-search-results__content__picked-filters"),p=t.querySelector(".idsk-search-results__show-results__button"),m=t.querySelector(".idsk-search-results__title"),b=document.getElementsByTagName("header"),f=document.getElementsByTagName("footer"),v=document.getElementsByClassName("govuk-breadcrumbs");this.handleSomeFilterPicked.call(this)&&(p.classList.remove("idsk-search-results--invisible"),h.classList.remove("idsk-search-results--invisible__mobile")),m.classList.add("idsk-search-results--invisible__mobile"),i.classList.add("idsk-search-results--visible"),u.classList.add("idsk-search-results--visible__mobile--inline"),c.classList.add("idsk-search-results--invisible__mobile"),l.classList.add("idsk-search-results--invisible"),d.classList.add("idsk-search-results--invisible__mobile"),s.classList.add("idsk-search-results--invisible__mobile"),n&&n.classList.add("idsk-search-results--invisible__mobile"),o.classList.add("idsk-search-results--invisible__mobile"),r.classList.add("idsk-search-results--invisible__mobile"),b[0]&&f[0]&&v[0]&&(b[0].classList.add("idsk-search-results--invisible__mobile"),f[0].classList.add("idsk-search-results--invisible__mobile"),v[0].classList.add("idsk-search-results--invisible__mobile")),a.classList.add("idsk-search-results--invisible")},T.prototype.handleClickPreviousPage=function(e){var t=this.$module;location.href="#",t.currentPageNumber=t.currentPageNumber-1,this.showResultCardsPerPage.call(this,t.countOfCardsPerPage*(t.currentPageNumber-1),t.countOfCardsPerPage*t.currentPageNumber)},T.prototype.handleClickNextPage=function(e){var t=this.$module;location.href="#",t.currentPageNumber=t.currentPageNumber+1,this.showResultCardsPerPage.call(this,t.countOfCardsPerPage*(t.currentPageNumber-1),t.countOfCardsPerPage*t.currentPageNumber)},T.prototype.handleClickResultsPerPageDropdown=function(e){var t=e.target||e.srcElement;this.$module.countOfCardsPerPage=t.value,this.showResultCardsPerPage.call(this,0,t.value)},T.prototype.handleSearchItemsFromInput=function(e,t){var i=t.target||t.srcElement,s=i.closest(".idsk-search-results__link-panel").querySelectorAll(".govuk-"+e+"__item");s.forEach(function(e){e.classList.remove("idsk-search-results--invisible")}.bind(this)),s.forEach(function(t){t.querySelector(".govuk-"+e+"__label").innerText.toLowerCase().includes(i.value.toLowerCase())||t.classList.add("idsk-search-results--invisible")}.bind(this))},T.prototype.handleFillDate=function(e,t){var i=t.target||t.srcElement||t,s=this.$module,n=s.querySelector(".idsk-search-results__content__picked-filters__date"),o=n.querySelector('[data-source="'+i.id+'"]'),r=s.querySelector(".idsk-search-results__content");if(""!==i.value&&(i.value.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/)||i.value.match(/^(\d{4})$/))){if(i.value&&!o)var a=this.createTopicInContainer.call(this,n,i.id,"idsk-search-results__picked-date",i,"datum-od"===i.id);else o&&((a=o).innerHTML=i.value+" &#10005;");r.classList.remove("idsk-search-results--invisible__mobile"),a.addEventListener("click",this.handleRemovePickedDate.bind(this)),i.value="",n.classList.remove("idsk-search-results--invisible"),this.checkValuesInDateContainer.call(this),this.changeBackgroundForPickedFilters.call(this)}},T.prototype.handleRemovePickedDate=function(e){(e.target||e.srcElement||e).remove(),this.handleSomeFilterPicked.call(this),this.checkValuesInDateContainer.call(this),this.handleCountForFiltersButton.call(this),this.changeBackgroundForPickedFilters.call(this)},T.prototype.createSpanElement=function(e,t){var i=document.createElement("span");return i.setAttribute("class",e),i.innerHTML=t,i},T.prototype.checkValuesInDateContainer=function(e){var t=this.$module.querySelector(".idsk-search-results__content__picked-filters__date"),i="idsk-search-results__before-date",s="idsk-search-results__after-date",n=t.querySelector("."+i),o=t.querySelector("."+s);t.querySelector('[data-source="datum-od"]')||t.querySelector('[data-source="datum-do"]')?t.querySelector('[data-source="datum-od"]')&&t.querySelector('[data-source="datum-do"]')?(n=this.createSpanElement.call(this,i,t.dataset.lines+" "+t.dataset.middle),o=this.createSpanElement.call(this,s,"a "),t.insertBefore(n,t.querySelector('[data-source="datum-od"]')),t.insertBefore(o,t.querySelector('[data-source="datum-do"]'))):t.querySelector('[data-source="datum-od"]')?(n=this.createSpanElement.call(this,i,t.dataset.lines+" "+t.dataset.after),t.insertBefore(n,t.querySelector('[data-source="datum-od"]'))):t.querySelector('[data-source="datum-do"]')&&(o=this.createSpanElement.call(this,s,t.dataset.lines+" "+t.dataset.before),t.insertBefore(o,t.querySelector('[data-source="datum-do"]'))):t.classList.add("idsk-search-results--invisible")},T.prototype.showResultCardsPerPage=function(e,t){var i,s=this.$module,n=s.querySelector(".idsk-search-results__button--back"),o=s.querySelector(".idsk-search-results__button--forward"),r=s.querySelector(".idsk-search-results__button--back__mobile"),a=s.querySelector(".idsk-search-results__button--forward__mobile"),l=s.querySelector(".idsk-search-results__page-number__mobile");for(s.resultCards.forEach(function(e){e.classList.contains("idsk-search-results--invisible")||e.classList.add("idsk-search-results--invisible")}.bind(this)),t>=s.resultCards.length?(t=s.resultCards.length,o.classList.add("idsk-search-results--hidden"),n.classList.remove("idsk-search-results--hidden"),a.classList.add("idsk-search-results--hidden"),r.classList.remove("idsk-search-results--hidden")):(o.classList.remove("idsk-search-results--hidden"),a.classList.remove("idsk-search-results--hidden")),e<0?e=0:e>0?(n.classList.remove("idsk-search-results--hidden"),r.classList.remove("idsk-search-results--hidden")):0===e&&(s.currentPageNumber=1),i=e;i<t;i++)s.resultCards[i].classList.remove("idsk-search-results--invisible");0!==e||n.classList.contains("idsk-search-results--hidden")||(n.classList.add("idsk-search-results--hidden"),r.classList.add("idsk-search-results--hidden"));var d=1+(s.resultCards.length/s.countOfCardsPerPage|0),c=s.querySelector(".idsk-search-results__page-number span"),u=c.dataset.lines.replace("$value1",s.currentPageNumber).replace("$value2",d);c.innerText=u,l.innerText=u},T.prototype.handleClickLinkPanel=function(e){var t=(e.target||e.srcElement).closest(".idsk-search-results__link-panel");s(t.querySelector(".idsk-search-results__list"),"idsk-search-results--hidden"),s(t,"idsk-search-results--expand")},T.prototype.handleClickRadioButton=function(e){var t,i=e.target||e.srcElement||e,s=this.$module,n=i.closest(".idsk-search-results__link-panel").querySelector(".idsk-search-results__link-panel--span"),o=s.querySelector(".idsk-search-results__content__picked-filters__topics"),r=i.closest(".govuk-radios"),a=o.querySelector('[data-source="'+r.dataset.id+'"]'),l="idsk-search-results__picked-topic",d=s.querySelector(".idsk-search-results__content");i.value&&!a?(t=this.createTopicInContainer.call(this,o,r.dataset.id,l,i,!1),s.subTopicButton&&(s.subTopicButton.disabled=!1)):a.dataset.source===r.dataset.id?(t=a).innerHTML=i.value+" &#10005;":a.dataset.source!==r.dataset.id&&(t=this.createTopicInContainer.call(this,o,r.dataset.id,l,i,!1)),d.classList.remove("idsk-search-results--invisible__mobile"),o.classList.remove("idsk-search-results--invisible"),t.removeEventListener("click",this.handleRemovePickedTopic.bind(this),!0),t.addEventListener("click",this.handleRemovePickedTopic.bind(this)),this.changeBackgroundForPickedFilters.call(this),n.innerText="1 "+n.dataset.lines},T.prototype.handleClickContentTypeCheckBox=function(e){var t=e.target||e.srcElement||e,i=this.$module,s=t.closest(".idsk-search-results__link-panel"),n=i.querySelector(".idsk-search-results__content__picked-filters__content-type"),o=t.closest(".govuk-checkboxes"),r=i.querySelector(".idsk-search-results__content");t.checked?this.createTopicInContainer.call(this,n,t.id,"idsk-search-results__picked-content-type",t,!1).addEventListener("click",this.handleRemovePickedContentType.bind(this)):i.querySelector('[data-source="'+t.id+'"]').remove();r.classList.remove("idsk-search-results--invisible__mobile"),n.classList.remove("idsk-search-results--invisible"),this.handleCountOfPickedContentTypes.call(this,o,s),this.changeBackgroundForPickedFilters.call(this)},T.prototype.handleRemovePickedContentType=function(e){var t=e.target||e.srcElement||e,i=this.$module.querySelector(".idsk-search-results__content-type-filter .govuk-checkboxes"),s=i.querySelector("#"+t.dataset.source),n=i.closest(".idsk-search-results__link-panel");s.checked=!1,t.remove(),this.handleSomeFilterPicked.call(this),this.handleCountOfPickedContentTypes.call(this,i,n),this.handleCountForFiltersButton.call(this),this.changeBackgroundForPickedFilters.call(this)},T.prototype.handleCountOfPickedContentTypes=function(e,t){var i=this.$module.querySelector(".idsk-search-results__content__picked-filters__content-type"),s=t.querySelector(".idsk-search-results__link-panel--span"),n=0;e&&e.querySelectorAll(".govuk-checkboxes__input").forEach(function(e){e.checked&&(n+=1)}.bind(this)),0===n?(s.innerText="",i.classList.add("idsk-search-results--invisible")):s.innerText=n+" "+s.dataset.lines},T.prototype.createTopicInContainer=function(e,t,i,s,n){var o=this.$module.querySelector(".idsk-search-results__show-results__button"),r=this.$module.querySelector(".idsk-search-results__button--turn-filters-off"),a=this.$module.querySelector(".idsk-search-results__content__picked-filters"),l=document.createElement("button");return l.setAttribute("class",i),l.setAttribute("tabindex","0"),l.setAttribute("data-source",t),l.setAttribute("data-id",s.id),l.innerHTML=s.value+" &#10005;",n?e.prepend(l):e.appendChild(l),a.classList.remove("idsk-search-results--invisible"),a.classList.remove("idsk-search-results--invisible__mobile"),o.classList.remove("idsk-search-results--invisible"),r.classList.remove("idsk-search-results--invisible"),this.handleCountForFiltersButton.call(this),l},T.prototype.changeBackgroundForPickedFilters=function(e){var t=this.$module.querySelector(".idsk-search-results__content__picked-filters").querySelectorAll("div:not(.idsk-search-results--invisible)");if(0!==t.length){var i;for(t.forEach(function(e){e.classList.remove("idsk-search-results--grey"),e.classList.remove("idsk-search-results--border")}.bind(this)),i=0;i<t.length;i++)0!==i&&2!==i||t[i].classList.add("idsk-search-results--grey");t[t.length-1].classList.add("idsk-search-results--border")}},T.prototype.disableSubtopic=function(e){var t=this.$module.subTopicButton.parentElement.querySelector(".idsk-search-results__list");this.$module.subTopicButton.parentElement.classList.remove("idsk-search-results--expand"),t.classList.add("idsk-search-results--hidden"),this.$module.subTopicButton&&(this.$module.subTopicButton.disabled=!0)},T.prototype.handleRemovePickedTopic=function(e){var t=e.target||e.srcElement||e,i=this.$module.querySelector(".idsk-search-results__content__picked-filters__topics");if("tema"===t.dataset.source){var s=i.querySelector('[data-source="podtema"]');s?this.removeTopic.call(this,s,!0):this.$module.subTopicButton&&this.disableSubtopic.call(this),i.classList.add("idsk-search-results--invisible")}this.removeTopic.call(this,t,!1)},T.prototype.removeTopic=function(e,t){var i=this.$module.querySelector('[data-id="'+e.dataset.source+'"]');i.closest(".idsk-search-results__link-panel").querySelector(".idsk-search-results__link-panel--span").innerText="",i.querySelectorAll(".govuk-radios__input").forEach(function(e){e.checked=!1}.bind(this)),t&&this.$module.subTopicButton&&this.disableSubtopic.call(this),e.remove(),this.handleSomeFilterPicked.call(this),this.handleCountForFiltersButton.call(this),this.changeBackgroundForPickedFilters.call(this)},B.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-search-results__link-panel-button");if(t){var i=e.querySelector("#idsk-search-input__topic");i&&i.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"radios"));var s=e.querySelector("#idsk-search-input__subtopic");s&&s.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"radios"));var n=e.querySelector("#idsk-search-input__content-type");n&&n.addEventListener("keyup",this.handleSearchItemsFromInput.bind(this,"checkboxes"));var o=e.querySelectorAll(".idsk-search-results__filter .govuk-radios__input ");if(o){var r=e.querySelectorAll(".idsk-search-results__filter .govuk-checkboxes__input ");r&&(o.forEach(function(e){e.addEventListener("click",this.handleClickRadioButton.bind(this),!0)}.bind(this)),r.forEach(function(e){e.addEventListener("click",this.handleClickContentTypeCheckBox.bind(this),!0)}.bind(this)),t.forEach(function(e){e.addEventListener("click",this.handleClickLinkPanel.bind(this))}.bind(this)))}}}},B.prototype.handleClickRadioButton=function(e){(e.target||e.srcElement).closest(".idsk-search-results__link-panel").querySelector(".idsk-search-results__link-panel--span").innerText="1 vybraté"},B.prototype.handleClickContentTypeCheckBox=function(e){var t=e.target||e.srcElement,i=t.closest(".idsk-search-results__link-panel"),s=t.closest(".govuk-checkboxes");this.handleCountOfPickedContentTypes.call(this,s,i)},B.prototype.handleCountOfPickedContentTypes=function(e,t){var i=t.querySelector(".idsk-search-results__link-panel--span"),s=0;e&&e.querySelectorAll(".govuk-checkboxes__input").forEach(function(e){e.checked&&(s+=1)}.bind(this)),i.innerText=0===s?"":s+" vybraté"},B.prototype.handleSearchItemsFromInput=function(e,t){var i=t.target||t.srcElement,s=i.closest(".idsk-search-results__link-panel").querySelectorAll(".govuk-"+e+"__item");s.forEach(function(e){e.classList.remove("idsk-search-results--invisible")}.bind(this)),s.forEach(function(t){t.querySelector(".govuk-"+e+"__label").innerText.toLowerCase().includes(i.value.toLowerCase())||t.classList.add("idsk-search-results--invisible")}.bind(this))},B.prototype.handleClickLinkPanel=function(e){var t=e.target||e.srcElement,i=t.closest(".idsk-search-results__link-panel"),n=i.querySelector(".idsk-search-results__list"),o=t.closest(".idsk-search-results__link-panel-button");s(n,"idsk-search-results--hidden"),s(i,"idsk-search-results--expand"),i.classList.contains("idsk-search-results--expand")?(o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label",o.getAttribute("data-text-for-hide"))):(o.setAttribute("aria-expanded","false"),o.setAttribute("aria-label",o.getAttribute("data-text-for-show")))},I.prototype.init=function(){if(this.$module){this.initControls(),this.initSectionHeaders(),this.$links.forEach(function(e){e.addEventListener("click",this.handleItemLink.bind(this)),e.addEventListener("blur",this.handleItemLinkBlur.bind(this))}.bind(this));var e=this.checkIfAllSectionsOpen();this.updateOpenAllButton(e)}},I.prototype.initControls=function(){var e=this.$module.querySelector(".idsk-stepper__controls");e?(this.$openAllButton=document.createElement("button"),this.$openAllButton.setAttribute("type","button"),this.$openAllButton.innerHTML=e.dataset.line1+' <span class="govuk-visually-hidden">sekcie</span>',this.$openAllButton.setAttribute("class",this.$openAllClass),this.$openAllButton.setAttribute("aria-expanded","false"),this.$openAllButton.setAttribute("type","button"),e.appendChild(this.$openAllButton),this.$openAllButton.addEventListener("click",this.onOpenOrCloseAllToggle.bind(this))):console.log("Incorrect implementation of stepper, stepper controls are missing.")},I.prototype.initSectionHeaders=function(){this.$sections.forEach(function(e,t){var i=e.querySelector("."+this.$sectionHeaderClass);i?(this.initHeaderAttributes(i,t),this.setExpanded(this.isExpanded(e),e),i.addEventListener("click",this.onSectionToggle.bind(this,e)),this.setInitialState(e)):console.log("Incorrect implementation of stepper, stepper header is missing.")}.bind(this))},I.prototype.handleItemLink=function(e){(e.target||e.srcElement).closest(".idsk-stepper__section").classList.add("idsk-stepper__bolder-line")},I.prototype.handleItemLinkBlur=function(e){(e.target||e.srcElement).closest(".idsk-stepper__section").classList.remove("idsk-stepper__bolder-line")},I.prototype.initHeaderAttributes=function(e,t){var i=this.$module,s=e.querySelector("."+this.$sectionButtonClass),n=e.querySelector("."+this.$sectionHeadingClass),o=e.querySelector("."+this.$sectionSummaryClass);if(s){var r=document.createElement("button");r.setAttribute("type","button"),r.setAttribute("id",this.$moduleId+"-heading-"+(t+1)),r.setAttribute("aria-controls",this.$moduleId+"-content-"+(t+1));for(var a=0;a<s.attributes.length;a++){var l=s.attributes.item(a);r.setAttribute(l.nodeName,l.nodeValue)}r.addEventListener("focusin",(function(t){e.classList.contains(i.$sectionHeaderFocusedClass)||(e.className+=" "+i.$sectionHeaderFocusedClass)})),r.addEventListener("blur",(function(t){e.classList.remove(i.$sectionHeaderFocusedClass)})),null!=o&&r.setAttribute("aria-describedby",this.$moduleId+"-summary-"+(t+1)),r.innerHTML=s.innerHTML,n.removeChild(s),n.appendChild(r);var d=document.createElement("span");d.className=this.$iconClass,d.setAttribute("aria-hidden","true"),n.appendChild(d)}},I.prototype.onSectionToggle=function(e){var t=this.isExpanded(e);this.setExpanded(!t,e),this.storeState(e)},I.prototype.onOpenOrCloseAllToggle=function(){var e=this,t=this.$sections,i=!this.checkIfAllSectionsOpen();t.forEach((function(t){e.setExpanded(i,t),e.storeState(t)})),e.updateOpenAllButton(i)},I.prototype.setExpanded=function(e,t){var i=t.querySelector("."+this.$sectionButtonClass);if(i){i.setAttribute("aria-expanded",e),e?t.classList.add(this.$sectionExpandedClass):t.classList.remove(this.$sectionExpandedClass);var s=this.checkIfAllSectionsOpen();this.updateOpenAllButton(s)}},I.prototype.isExpanded=function(e){return e.classList.contains(this.$sectionExpandedClass)},I.prototype.checkIfAllSectionsOpen=function(){return this.$sections.length===this.$module.querySelectorAll("."+this.$sectionExpandedClass).length},I.prototype.updateOpenAllButton=function(e){var t=this.$module.querySelector(".idsk-stepper__controls");if(t){var i=e?t.dataset.line2:t.dataset.line1;i+='<span class="govuk-visually-hidden">sekcie</span>',this.$openAllButton.setAttribute("aria-expanded",e),this.$openAllButton.innerHTML=i}else console.log("Incorrect implementation of stepper, stepper controls are missing.")};var M={checkForSessionStorage:function(){var e,t="this is the test string";try{return window.sessionStorage.setItem(t,t),e=window.sessionStorage.getItem(t)===t.toString(),window.sessionStorage.removeItem(t),e}catch(i){return"undefined"!=typeof console&&void 0!==console.log||console.log("Notice: sessionStorage not available."),!1}}};function H(e){this.$module=e}function F(e){this.$module=e}function P(e){this.$module=e,this.selectedFitlersCount=0,this.$activeFilters=[],this.removeAllFiltersText=e.querySelector(".idsk-table-filter__active-filters").dataset.removeAllFilters,this.removeFilterText=e.querySelector(".idsk-table-filter__active-filters").dataset.removeFilter}function N(e){this.$module=e,this.$tabs=e.querySelectorAll(".idsk-tabs__tab"),this.$mobileTabs=e.querySelectorAll(".idsk-tabs__mobile-tab"),this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="idsk-tabs__panel--hidden",this.mobileTabHiddenClass="idsk-tabs__mobile-tab-content--hidden"}function O(e,i){if(!(e instanceof HTMLElement))return this;this.$module=e;this.config=t({disableAutoFocus:!1},i||{},o(e.dataset))}function R(e){if(!(e instanceof HTMLElement))return this;var t=e.querySelectorAll('input[type="radio"]');if(!t.length)return this;this.$module=e,this.$inputs=t}function D(e){if(!(e instanceof HTMLAnchorElement))return this;this.$module=e,this.$linkedElement=null,this.linkedElementListener=!1}function j(e){if(!(e instanceof HTMLElement))return this;var t=e.querySelectorAll("a.govuk-tabs__tab");if(!t.length)return this;this.$module=e,this.$tabs=t,this.keys={left:37,right:39,up:38,down:40},this.jsHiddenClass="govuk-tabs__panel--hidden",this.boundTabClick=this.onTabClick.bind(this),this.boundTabKeydown=this.onTabKeydown.bind(this),this.boundOnHashChange=this.onHashChange.bind(this),this.changingHash=!1}I.prototype.storeState=function(e){if(this.$browserSupportsSessionStorage){var t=e.querySelector("."+this.$sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=t.getAttribute("aria-expanded");void 0!==i||"undefined"!=typeof console&&void 0!==console.log||console.error(new Error("No aria controls present in accordion section heading.")),void 0!==s||"undefined"!=typeof console&&void 0!==console.log||console.error(new Error("No aria expanded present in accordion section heading.")),i&&s&&window.sessionStorage.setItem(i,s)}}},I.prototype.setInitialState=function(e){if(this.$browserSupportsSessionStorage){var t=e.querySelector("."+this.$sectionButtonClass);if(t){var i=t.getAttribute("aria-controls"),s=i?window.sessionStorage.getItem(i):null;null!==s&&this.setExpanded("true"===s,e)}}},H.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector(".idsk-subscription-form__submit-handler");t&&t.addEventListener("submit",this.handleSubmitForm.bind(this)),e.querySelector(".govuk-input").addEventListener("change",this.handleInput.bind(this))}},H.prototype.handleSubmitForm=function(e){e.preventDefault();var t=e.target.querySelector("#subscription-email-value"),i=t.parentElement;if(!t.checkValidity()){i.querySelectorAll(".govuk-error-message").forEach((function(e){e.remove()}));var s=document.createElement("span");return s.classList.add("govuk-error-message"),s.textContent=t.validationMessage,t.classList.add("govuk-input--error"),i.classList.add("govuk-form-group--error"),void t.before(s)}this.$module.classList.add("idsk-subscription-form__subscription-confirmed")},H.prototype.handleInput=function(e){var t=e.target||e.srcElement||e,i=t.closest(".idsk-subscription-form__input").querySelector("label");""===t.value?i.classList.remove("govuk-visually-hidden"):i.classList.add("govuk-visually-hidden")},F.prototype.init=function(){this.setup()},F.prototype.setup=function(){var e=this.$module;if(e){var t=e.querySelector(".idsk-table__meta-print-button");t&&t.addEventListener("click",this.printTable.bind(this))}},F.prototype.printTable=function(){var e=this.$module.querySelector(".idsk-table").outerHTML;document.body.innerHTML="<html><head><title></title></head><body>"+e+"</body>",window.onafterprint=function(e){window.location.reload()},window.print()},P.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelectorAll(".idsk-filter-menu__toggle"),i=e.querySelector("form"),s=e.querySelectorAll(".govuk-input, .govuk-select");t.forEach(function(e){e.addEventListener("click",this.handleClickTogglePanel.bind(this))}.bind(this)),i&&i.addEventListener("submit",function(e){e.preventDefault(),this.handleSubmitFilter(this)}.bind(this)),s.forEach(function(e){e.addEventListener("change",this.handleFilterValueChange.bind(this)),e.addEventListener("keyup",function(e){"Enter"===e.key?this.sendSubmitEvent():this.handleFilterValueChange(e)}.bind(this))}.bind(this)),window.addEventListener("resize",this.handleWindowResize.bind(this))}},P.prototype.sendSubmitEvent=function(){this.$module.querySelector("form").dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0}))},P.prototype.handleClickTogglePanel=function(e){var t=e.target||e.srcElement,i=t.parentNode,n=t.nextElementSibling,o=t.dataset.openText,r=t.dataset.closeText,a=i.classList.contains("idsk-table-filter__category");if(a){var l=i.parentNode,d=a?18:20,c=n.style.height&&"0px"!==n.style.height?parseInt(l.style.height)-n.scrollHeight-d+25:parseInt(l.style.height)+n.scrollHeight+d-25;l.style.height=c+"px"}s(i,"idsk-table-filter--expanded"),n.style.height=(n.style.height&&"0px"!==n.style.height?"0":n.scrollHeight)+"px";var u="0px"===n.style.height,h=u?o:r,p=u?"false":"true",m=document.querySelector(".idsk-table-filter__content");t.innerHTML=h,t.setAttribute("aria-label",h+(t.dataset.categoryName?" "+t.dataset.categoryName:"")),m.setAttribute("aria-hidden",p);var b=n.querySelectorAll(":scope > .idsk-table-filter__filter-inputs input, :scope > .idsk-table-filter__filter-inputs select, .idsk-filter-menu__toggle"),f=u?-1:0;b.forEach((function(e){e.tabIndex=f}))},P.prototype.removeActiveFilter=function(e){var t=this.$module.querySelector('.govuk-input[name="'+e.name+'"], .govuk-select[name="'+e.name+'"]');"SELECT"===t.tagName?t.querySelectorAll("option").forEach((function(e,i){""===e.value&&(t.selectedIndex=i)})):t.value="",t.dispatchEvent(new Event("change")),this.sendSubmitEvent(),this.$activeFilters=this.$activeFilters.filter((function(t){return t.id!==e.id})),this.renderActiveFilters()},P.prototype.removeAllActiveFilters=function(){this.$activeFilters.forEach(function(e){this.removeActiveFilter(e)}.bind(this))},P.prototype.renderActiveFilters=function(){var e=this.$module.querySelector(".idsk-table-filter__active-filters"),t=e.querySelector(".idsk-table-filter__active-filters .idsk-table-filter__content");if(t.innerHTML="",e.classList.contains("idsk-table-filter__active-filters__hide")&&e.classList.add("idsk-table-filter--expanded"),this.$activeFilters.forEach(function(e){var i=document.createElement("div");i.classList.add("idsk-table-filter__parameter","govuk-body");var s='<button class="idsk-table-filter__parameter-remove" tabindex="0">✕ <span class="govuk-visually-hidden">'+this.removeFilterText+" "+e.value+"</span></button>";i.innerHTML='<span class="idsk-table-filter__parameter-title">'+e.value+"</span>"+s,i.querySelector(".idsk-table-filter__parameter-remove").addEventListener("click",function(){this.removeActiveFilter(e)}.bind(this)),t.appendChild(i)}.bind(this)),this.$activeFilters.length>0){e.classList.remove("idsk-table-filter__active-filters__hide");var i=document.createElement("button");i.classList.add("govuk-body","govuk-link"),i.innerHTML='<span class="idsk-table-filter__parameter-title">'+this.removeAllFiltersText+" ("+this.$activeFilters.length+')</span><span class="idsk-table-filter__parameter-remove">✕</span>',i.addEventListener("click",this.removeAllActiveFilters.bind(this)),t.appendChild(i)}else e.classList.add("idsk-table-filter__active-filters__hide");var s=this.$module.querySelector(".idsk-table-filter__active-filters.idsk-table-filter--expanded .idsk-table-filter__content");s&&(s.style.height="initial",s.style.height=s.scrollHeight+"px")},P.prototype.renderSelectedFiltersCount=function(){var e=this.$module.querySelector(".submit-table-filter");e.disabled=0===this.selectedFitlersCount,e.querySelector(".count").innerHTML=this.selectedFitlersCount},P.prototype.handleSubmitFilter=function(){var e=this.$module.querySelectorAll(".idsk-table-filter__inputs input"),t=this.$module.querySelectorAll(".idsk-table-filter__inputs select");this.$activeFilters=[],e.forEach(function(e){e.value.length>0&&this.$activeFilters.push({id:e.getAttribute("id"),name:e.getAttribute("name"),value:e.value})}.bind(this)),t.forEach(function(e){e.value&&this.$activeFilters.push({id:e.value,name:e.getAttribute("name"),value:e.options[e.selectedIndex].text})}.bind(this)),this.renderActiveFilters()},P.prototype.handleFilterValueChange=function(e){var t=(e.target||e.srcElement).closest(".idsk-table-filter__category");if(t){var i=t.querySelectorAll(".idsk-table-filter__inputs input, .idsk-table-filter__inputs select"),s=0;i.forEach((function(e){e.value&&s++})),t.querySelector(".count").innerHTML=s?"("+s+")":""}this.selectedFitlersCount=0,this.$module.querySelectorAll(".idsk-table-filter__inputs input, .idsk-table-filter__inputs select").forEach(function(e){e.value&&this.selectedFitlersCount++}.bind(this)),this.renderSelectedFiltersCount()},P.prototype.handleWindowResize=function(){this.$module.querySelectorAll(".idsk-table-filter--expanded").forEach((function(e){var t=e.querySelector(".idsk-table-filter__content");t.style.height="initial",t.style.height=t.scrollHeight+"px"}))},N.prototype.init=function(){this.setup()},N.prototype.setup=function(){var e=this.$module,t=this.$tabs,i=this.$mobileTabs,s=e.querySelector(".idsk-tabs__list"),n=e.querySelectorAll(".idsk-tabs__list-item");if(t&&s&&n){s.setAttribute("role","tablist"),n.forEach((function(e){e.setAttribute("role","presentation")})),i.forEach((function(e){e.setAttribute("role","presentation")})),t.forEach(function(e,t){this.setAttributes(e),e.boundTabClick=this.onTabClick.bind(this),e.addEventListener("click",e.boundTabClick,!0),i[t].addEventListener("click",e.boundTabClick,!0),this.hideTab(e)}.bind(this));var o=this.getTab(window.location.hash)||this.$tabs[0];this.toggleMobileTab(o,!1),this.showTab(o),e.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",e.boundOnHashChange,!0)}},N.prototype.onHashChange=function(){var e=window.location.hash,t=this.getTab(e);if(t)if(this.changingHash)this.changingHash=!1;else{var i=this.getCurrentTab();this.hideTab(i),this.showTab(t),t.focus()}},N.prototype.hideTab=function(e){this.unhighlightTab(e),this.hidePanel(e)},N.prototype.showTab=function(e){this.highlightTab(e),this.showPanel(e)},N.prototype.toggleMobileTab=function(e,t){t=t||!1;var i=this.getPanel(e),s=i.previousElementSibling;s.classList.toggle("idsk-tabs__mobile-tab--selected"),(i=i.querySelector(".idsk-tabs__mobile-tab-content")).classList.toggle(this.mobileTabHiddenClass),s.classList.contains("idsk-tabs__mobile-tab--selected")&&t&&(s.classList.remove("idsk-tabs__mobile-tab--selected"),i.classList.add(this.mobileTabHiddenClass))},N.prototype.getTab=function(e){return this.$module.querySelector('.idsk-tabs__tab[href="'+e+'"]')},N.prototype.setAttributes=function(e){var t=this.getHref(e).slice(1),i=this.$mobileTabs[e.getAttribute("item")];e.setAttribute("id","tab_"+t),e.setAttribute("role","tab"),e.setAttribute("aria-controls",t),e.setAttribute("aria-selected","false"),i.setAttribute("id","tab_"+t),i.setAttribute("role","tab"),i.setAttribute("aria-controls",t),i.setAttribute("aria-selected","false");var s=this.getPanel(e);s.setAttribute("role","tabpanel"),s.setAttribute("aria-labelledby",e.id),s.classList.add(this.jsHiddenClass)},N.prototype.unsetAttributes=function(e){var t=this.$mobileTabs[e.getAttribute("item")];e.removeAttribute("id"),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),t.removeAttribute("id"),t.removeAttribute("role"),t.removeAttribute("aria-controls"),t.removeAttribute("aria-selected");var i=this.getPanel(e);i.removeAttribute("role"),i.removeAttribute("aria-labelledby"),i.classList.remove(this.jsHiddenClass)},N.prototype.onTabClick=function(e){if(e.target.classList.contains("idsk-tabs__tab")||e.target.classList.contains("idsk-tabs__mobile-tab")||e.target.classList.contains("idsk-tabs__tab-arrow-mobile")){e.preventDefault();var t=e.target,i=this.getCurrentTab();t.classList.contains("idsk-tabs__tab-arrow-mobile")&&(t=t.parentElement),"BUTTON"===t.nodeName&&((t=this.$tabs[t.getAttribute("item")])===i?this.toggleMobileTab(i,!1):(this.toggleMobileTab(i,!0),this.toggleMobileTab(t,!1))),this.hideTab(i),this.showTab(t),this.createHistoryEntry(t)}},N.prototype.createHistoryEntry=function(e){var t=this.getPanel(e),i=t.id;t.id="",this.changingHash=!0,window.location.hash=this.getHref(e).slice(1),t.id=i},N.prototype.getPanel=function(e){return this.$module.querySelector(this.getHref(e))},N.prototype.showPanel=function(e){this.getPanel(e).classList.remove(this.jsHiddenClass)},N.prototype.hidePanel=function(e){this.getPanel(e).classList.add(this.jsHiddenClass)},N.prototype.unhighlightTab=function(e){e.setAttribute("aria-selected","false"),this.$mobileTabs[e.getAttribute("item")].setAttribute("aria-selected","false"),e.parentNode.classList.remove("idsk-tabs__list-item--selected")},N.prototype.highlightTab=function(e){e.setAttribute("aria-selected","true"),this.$mobileTabs[e.getAttribute("item")].setAttribute("aria-selected","true"),e.parentNode.classList.add("idsk-tabs__list-item--selected")},N.prototype.getCurrentTab=function(){return this.$module.querySelector(".idsk-tabs__list-item--selected .idsk-tabs__tab")},N.prototype.getHref=function(e){var t=e.getAttribute("href");return t.slice(t.indexOf("#"),t.length)},O.prototype.init=function(){this.$module&&this.setFocus()},O.prototype.setFocus=function(){var e=this.$module;this.config.disableAutoFocus||"alert"===e.getAttribute("role")&&(e.getAttribute("tabindex")||(e.setAttribute("tabindex","-1"),e.addEventListener("blur",(function(){e.removeAttribute("tabindex")}))),e.focus())},R.prototype.init=function(){if(this.$module&&this.$inputs){var e=this.$module;this.$inputs.forEach((function(e){var t=e.getAttribute("data-aria-controls");t&&document.getElementById(t)&&(e.setAttribute("aria-controls",t),e.removeAttribute("data-aria-controls"))})),window.addEventListener("onpageshow"in window?"pageshow":"DOMContentLoaded",this.syncAllConditionalReveals.bind(this)),this.syncAllConditionalReveals(),e.addEventListener("click",this.handleClick.bind(this))}},R.prototype.syncAllConditionalReveals=function(){this.$inputs.forEach(this.syncConditionalRevealWithInputState.bind(this))},R.prototype.syncConditionalRevealWithInputState=function(e){var t=e.getAttribute("aria-controls");if(t){var i=document.getElementById(t);if(i&&i.classList.contains("govuk-radios__conditional")){var s=e.checked;e.setAttribute("aria-expanded",s.toString()),i.classList.toggle("govuk-radios__conditional--hidden",!s)}}},R.prototype.handleClick=function(e){var t=this,i=e.target;if(i instanceof HTMLInputElement&&"radio"===i.type){var s=document.querySelectorAll('input[type="radio"][aria-controls]'),n=i.form,o=i.name;s.forEach((function(e){var i=e.form===n;e.name===o&&i&&t.syncConditionalRevealWithInputState(e)}))}},D.prototype.init=function(){if(this.$module){var e=this.getLinkedElement();e&&(this.$linkedElement=e,this.$module.addEventListener("click",this.focusLinkedElement.bind(this)))}},D.prototype.getLinkedElement=function(){var e=this.getFragmentFromUrl();return e?document.getElementById(e):null},D.prototype.focusLinkedElement=function(){var e=this.$linkedElement;e.getAttribute("tabindex")||(e.setAttribute("tabindex","-1"),e.classList.add("govuk-skip-link-focused-element"),this.linkedElementListener||(this.$linkedElement.addEventListener("blur",this.removeFocusProperties.bind(this)),this.linkedElementListener=!0)),e.focus()},D.prototype.removeFocusProperties=function(){this.$linkedElement.removeAttribute("tabindex"),this.$linkedElement.classList.remove("govuk-skip-link-focused-element")},D.prototype.getFragmentFromUrl=function(){if(this.$module.hash)return this.$module.hash.split("#").pop()},j.prototype.init=function(){this.$module&&this.$tabs&&("function"==typeof window.matchMedia?this.setupResponsiveChecks():this.setup())},j.prototype.setupResponsiveChecks=function(){this.mql=window.matchMedia("(min-width: 40.0625em)"),this.mql.addListener(this.checkMode.bind(this)),this.checkMode()},j.prototype.checkMode=function(){this.mql.matches?this.setup():this.teardown()},j.prototype.setup=function(){var e=this,t=this.$module,i=this.$tabs,s=t.querySelector(".govuk-tabs__list"),n=t.querySelectorAll(".govuk-tabs__list-item");if(i&&s&&n){s.setAttribute("role","tablist"),n.forEach((function(e){e.setAttribute("role","presentation")})),i.forEach((function(t){e.setAttributes(t),t.addEventListener("click",e.boundTabClick,!0),t.addEventListener("keydown",e.boundTabKeydown,!0),e.hideTab(t)}));var o=this.getTab(window.location.hash)||this.$tabs[0];o&&(this.showTab(o),window.addEventListener("hashchange",this.boundOnHashChange,!0))}},j.prototype.teardown=function(){var e=this,t=this.$module,i=this.$tabs,s=t.querySelector(".govuk-tabs__list"),n=t.querySelectorAll("a.govuk-tabs__list-item");i&&s&&n&&(s.removeAttribute("role"),n.forEach((function(e){e.removeAttribute("role")})),i.forEach((function(t){t.removeEventListener("click",e.boundTabClick,!0),t.removeEventListener("keydown",e.boundTabKeydown,!0),e.unsetAttributes(t)})),window.removeEventListener("hashchange",this.boundOnHashChange,!0))},j.prototype.onHashChange=function(){var e=window.location.hash,t=this.getTab(e);if(t)if(this.changingHash)this.changingHash=!1;else{var i=this.getCurrentTab();i&&(this.hideTab(i),this.showTab(t),t.focus())}},j.prototype.hideTab=function(e){this.unhighlightTab(e),this.hidePanel(e)},j.prototype.showTab=function(e){this.highlightTab(e),this.showPanel(e)},j.prototype.getTab=function(e){return this.$module.querySelector('a.govuk-tabs__tab[href="'+e+'"]')},j.prototype.setAttributes=function(e){var t=this.getHref(e).slice(1);e.setAttribute("id","tab_"+t),e.setAttribute("role","tab"),e.setAttribute("aria-controls",t),e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1");var i=this.getPanel(e);i&&(i.setAttribute("role","tabpanel"),i.setAttribute("aria-labelledby",e.id),i.classList.add(this.jsHiddenClass))},j.prototype.unsetAttributes=function(e){e.removeAttribute("id"),e.removeAttribute("role"),e.removeAttribute("aria-controls"),e.removeAttribute("aria-selected"),e.removeAttribute("tabindex");var t=this.getPanel(e);t&&(t.removeAttribute("role"),t.removeAttribute("aria-labelledby"),t.classList.remove(this.jsHiddenClass))},j.prototype.onTabClick=function(e){var t=this.getCurrentTab(),i=e.currentTarget;t&&i instanceof HTMLAnchorElement&&(e.preventDefault(),this.hideTab(t),this.showTab(i),this.createHistoryEntry(i))},j.prototype.createHistoryEntry=function(e){var t=this.getPanel(e);if(t){var i=t.id;t.id="",this.changingHash=!0,window.location.hash=this.getHref(e).slice(1),t.id=i}},j.prototype.onTabKeydown=function(e){switch(e.keyCode){case this.keys.left:case this.keys.up:this.activatePreviousTab(),e.preventDefault();break;case this.keys.right:case this.keys.down:this.activateNextTab(),e.preventDefault()}},j.prototype.activateNextTab=function(){var e=this.getCurrentTab();if(e&&e.parentElement){var t=e.parentElement.nextElementSibling;if(t){var i=t.querySelector("a.govuk-tabs__tab");i&&(this.hideTab(e),this.showTab(i),i.focus(),this.createHistoryEntry(i))}}},j.prototype.activatePreviousTab=function(){var e=this.getCurrentTab();if(e&&e.parentElement){var t=e.parentElement.previousElementSibling;if(t){var i=t.querySelector("a.govuk-tabs__tab");i&&(this.hideTab(e),this.showTab(i),i.focus(),this.createHistoryEntry(i))}}},j.prototype.getPanel=function(e){return this.$module.querySelector(this.getHref(e))},j.prototype.showPanel=function(e){var t=this.getPanel(e);t&&t.classList.remove(this.jsHiddenClass)},j.prototype.hidePanel=function(e){var t=this.getPanel(e);t&&t.classList.add(this.jsHiddenClass)},j.prototype.unhighlightTab=function(e){e.parentElement&&(e.setAttribute("aria-selected","false"),e.parentElement.classList.remove("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","-1"))},j.prototype.highlightTab=function(e){e.parentElement&&(e.setAttribute("aria-selected","true"),e.parentElement.classList.add("govuk-tabs__list-item--selected"),e.setAttribute("tabindex","0"))},j.prototype.getCurrentTab=function(){return this.$module.querySelector(".govuk-tabs__list-item--selected a.govuk-tabs__tab")},j.prototype.getHref=function(e){var t=e.getAttribute("href");return t.slice(t.indexOf("#"),t.length)},e.initAll=function(e){var t=(e=void 0!==e?e:{}).scope instanceof HTMLElement?e.scope:document;t.querySelectorAll('[data-module="govuk-accordion"]').forEach((function(t){new l(t,e.accordion).init()})),t.querySelectorAll('[data-module="govuk-button"]').forEach((function(t){new c(t,e.button).init()})),t.querySelectorAll('[data-module="govuk-character-count"]').forEach((function(t){new h(t,e.characterCount).init()})),t.querySelectorAll('[data-module="govuk-checkboxes"]').forEach((function(e){new p(e).init()})),t.querySelectorAll('[data-module="govuk-details"]').forEach((function(e){new m(e).init()}));var i=t.querySelector('[data-module="govuk-error-summary"]');i&&new b(i,e.errorSummary).init();var s=t.querySelector('[data-module="govuk-header"]');s&&new f(s).init(),t.querySelectorAll('[data-module="govuk-notification-banner"]').forEach((function(t){new O(t,e.notificationBanner).init()})),t.querySelectorAll('[data-module="govuk-radios"]').forEach((function(e){new R(e).init()}));var n=t.querySelector('[data-module="govuk-skip-link"]');n&&new D(n).init(),t.querySelectorAll('[data-module="govuk-tabs"]').forEach((function(e){new j(e).init()})),t.querySelectorAll('[data-module="idsk-accordion"]').forEach((function(e){new v(e).init()})),t.querySelectorAll('[data-module="idsk-button"]').forEach((function(e){new y(e).init()})),t.querySelectorAll('[data-module="idsk-crossroad"]').forEach((function(e){new g(e).init()})),t.querySelectorAll('[data-module="idsk-customer-surveys"]').forEach((function(e){new _(e).init()})),t.querySelectorAll('[data-module="idsk-feedback"]').forEach((function(e){new S(e).init()})),t.querySelectorAll('[data-module="idsk-footer-extended"]').forEach((function(e){new L(e).init()}));var o=t.querySelector('[data-module="idsk-header"]');o&&new E(o).init();var r=t.querySelector('[data-module="idsk-header-extended"]');r&&new C(r).init();var a=t.querySelector('[data-module="idsk-header-web"]');a&&new w(a).init(),t.querySelectorAll('[data-module="idsk-in-page-navigation"]').forEach((function(e){new A(e).init()})),t.querySelectorAll('[data-module="idsk-interactive-map"]').forEach((function(e){new x(e).init()})),t.querySelectorAll('[data-module="idsk-registration-for-event"]').forEach((function(e){new $(e).init()})),t.querySelectorAll('[data-module="idsk-search-component"]').forEach((function(e){new q(e).init()})),t.querySelectorAll('[data-module="idsk-search-results"]').forEach((function(e){new T(e).init()})),t.querySelectorAll('[data-module="idsk-search-results-filter"]').forEach((function(e){new B(e).init()})),t.querySelectorAll('[data-module="idsk-stepper"]').forEach((function(e){new I(e).init()})),t.querySelectorAll('[data-module="idsk-stepper"]').forEach((function(e){new H(e).init()})),t.querySelectorAll('[data-module="idsk-table"]').forEach((function(e){new F(e).init()})),t.querySelectorAll('[data-module="idsk-table-filter"]').forEach((function(e){new P(e).init()})),t.querySelectorAll('[data-module="idsk-tabs"]').forEach((function(e){new N(e).init()}))},e.version="4.6.0",e.Accordion=l,e.Button=c,e.Details=m,e.CharacterCount=h,e.Checkboxes=p,e.ErrorSummary=b,e.Header=f,e.NotificationBanner=O,e.Radios=R,e.SkipLink=D,e.Tabs=j,e.IdskAccordion=v,e.IdskButton=y,e.IdskCrossroad=g,e.IdskCustomerSurveys=_,e.IdskFeedback=S,e.IdskFooterExtended=L,e.IdskHeader=E,e.IdskHeaderExtended=C,e.IdskHeaderWeb=w,e.IdskInPageNavigation=A,e.IdskInteractiveMap=x,e.IdskRegistrationForEvent=$,e.IdskSearchComponent=q,e.IdskSearchResults=T,e.IdskSearchResultsFilter=B,e.IdskStepper=I,e.IdskSubscriptionForm=H,e.IdskTable=F,e.IdskTableFilter=P,e.IdskTabs=N,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=govuk-frontend-4.6.0.min.js.map
